(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4988:function(e,t,a){Promise.resolve().then(a.bind(a,7418))},7418:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var o=a(7437),n=a(2265),r=a(3053),i=a(7945),s=a(8617),l=a(8906),c=a(6858),d=a(7769),u=a(2208),m=a(2489),x=a(1723),p=a(6595),g=a(7648);let b={es:{welcomeTitle:"Gracias por venir hoy,",welcomeSub:"ser\xe1 un placer cocinar para vos. \uD83E\uDEE0",whoAreYou:"Tu nombre?",namePlaceholder:"Escribilo ac\xe1...",status:"personas ya pidieron.",loading:"Encendiendo el horno...",buttonOrder:"PEDIR",inOven:"EN HORNO",wait:"Pediste",ate:"Comiste",customize:"Elige tu estilo:",errorName:"\xa1Primero decime tu nombre arriba!",errorOven:"⚠️ Esa porci\xf3n ya est\xe1 en el horno.",successOrder:"\xa1Marchando +1 de",successCancel:"Cancelado -1 de",readyAlert:"\xa1EST\xc1 LISTA!",ovenAlert:"al horno!",okBtn:"ENTENDIDO",notifOn:"\uD83D\uDD14 Activadas",notifOff:"\uD83D\uDD15 Desactivadas",soldOut:"AGOTADA",blocked:"ACCESO RESTRINGIDO",remaining:"Quedan",ingredientsFor:"Hay ingredientes para",portionsMore:"porciones m\xe1s",portions:"porciones",progress:"PROGRESO",newPizza:"EMPEZANDO",missing:"FALTAN",completed:"\xa1COMPLETA!",only:"\xa1Quedan solo",of:"de",enterPass:"Ingresa la clave del d\xeda",rateTitle:"Calificar",sendReview:"ENVIAR OPINI\xd3N",rateBtn:"CALIFICAR",topRated:"\uD83C\uDFC6 La favorita:",hotPick:"\uD83D\uDD25 \xa1\xc9xito total!:",toughCrowd:"\uD83D\uDCC9 Pol\xe9mica:",fAll:"Todas",fTop:"Top Rated",fRate:"Por calificar",fOrdered:"Pedidas",fNew:"Por Probar",fStock:"Con Stock",sortRank:"Ranking",sumTotal:"Pediste",sumWait:"Espera",sumOven:"Horno",sumReady:"Listas",emptyStock:"\xa1Se comieron todo! A llorar a la llorer\xeda \uD83D\uDE2D",emptyTop:"\xa1Qu\xe9 exigente! Nada cumple tus est\xe1ndares \uD83E\uDDD0",emptyRate:"\xa1Est\xe1s al d\xeda! No debes ninguna opini\xf3n, crack \uD83E\uDEE1",emptyOrdered:"\xbfEst\xe1s a dieta? A\xfan no pediste nada... \uD83E\uDD28",emptyNew:"\xa1Ya probaste todo! Eres un profesional de la pizza \uD83C\uDF55",emptyDefault:"No hay pizzas por aqu\xed... \xbfFue magia? \uD83C\uDFA9",onb_wel_title:"\xa1Bienvenido! \uD83D\uDC4B",onb_wel_desc:"Tu compa\xf1ero digital para disfrutar de la mejor pizza casera. Organiza, pide y califica en tiempo real.",onb_inst_title:"Installa la App",onb_inst_desc:"Para una mejor experiencia, instala la app tocando el bot\xf3n de descarga en la barra superior.",onb_how_title:"Conoce la App",onb_enjoy_title:"\xa1A comer!",onb_enjoy_desc:"Elige tu gusto favorito, pide tus porciones y espera a que el horno haga su magia.",onb_btn_next:"Siguiente",onb_btn_start:"Comenzar",feat_prog_title:"Progreso de la Pizza",feat_prog_desc:"Esta barra se llena a medida que todos piden. Cuando se completa, \xa1la pizza va al horno!",feat_oven_title:"Estado del Horno",feat_oven_desc:"Cuando veas fuego y rojo, tu pizza se est\xe1 cocinando.",feat_ctrl_title:"Tus Controles",feat_ctrl_desc:"Arriba a la derecha: Cambia Idioma (ES), Tama\xf1o Texto (T), Tema (Paleta) y Modo Oscuro (Luna).",stockLabel:"Stock:",units:"u.",youOrdered:"PEDISTE:",youAte:"COMISTE:",notNow:"Ahora no",yes:"S\xed!",summaryTotalTitle:"Ya pediste",summaryWaitTitle:"En Espera",summaryOvenTitle:"En Horno",summaryReadyTitle:"Listas",rateQuestion:"\xbfTe gust\xf3",ateTimeAgo:"Comiste hace",minAgo:"min...",adminLink:"Admin",confTitle:"\xbfConfirmar Pedido?",confPizzaDesc:"Esta pizza ir\xe1 al horno cuando se completen las 8 porciones. \xa1Puedes ver el avance en la barra de progreso!",confUnitDesc:"Se cocinar\xe1 individualmente para vos.",confTime:"Tiempo cocci\xf3n:",confBtn:"\xa1S\xcd, QUIERO!",cancelBtn:"Cancelar"},en:{welcomeTitle:"Thanks for coming today,",welcomeSub:"it will be a pleasure to cook for you. \uD83E\uDEE0",whoAreYou:"YOUR NAME?",namePlaceholder:"Type it here...",status:"people have ordered.",loading:"Firing up the oven...",buttonOrder:"ORDER",inOven:"IN OVEN",wait:"Ordered",ate:"Ate",customize:"Choose style:",errorName:"Please enter your name first!",errorOven:"⚠️ That slice is baking!",successOrder:"Coming right up! +1 of",successCancel:"Removed -1 of",readyAlert:"IT'S READY!",ovenAlert:"in the oven!",okBtn:"OK",notifOn:"\uD83D\uDD14 ON",notifOff:"\uD83D\uDD15 OFF",soldOut:"SOLD OUT",blocked:"ACCESS RESTRICTED",remaining:"Left",ingredientsFor:"Ingredients for",portionsMore:"more slices",portions:"slices",progress:"PROGRESS",newPizza:"STARTING",missing:"MISSING",completed:"DONE!",only:"Only",of:"of",enterPass:"Enter today's password",rateTitle:"Rate",sendReview:"SEND",rateBtn:"RATE",topRated:"\uD83C\uDFC6 Top pick:",hotPick:"\uD83D\uDD25 Everyone loves:",toughCrowd:"\uD83D\uDCC9 Mixed feelings:",fAll:"All",fTop:"Top Rated",fRate:"To Rate",fOrdered:"Ordered",fNew:"Try New",fStock:"In Stock",sortRank:"Rank",sumTotal:"Total",sumWait:"Wait",sumOven:"Oven",sumReady:"Ready",emptyStock:"Sold out! You snooze, you lose \uD83D\uDE2D",emptyTop:"So picky! Nothing meets your standards \uD83E\uDDD0",emptyRate:"All caught up! You owe nothing, boss \uD83E\uDEE1",emptyOrdered:"On a diet? You haven't ordered anything... \uD83E\uDD28",emptyNew:"You tried everything! A true pro \uD83C\uDF55",emptyDefault:"No pizzas here... Magic? \uD83C\uDFA9",onb_wel_title:"Welcome! \uD83D\uDC4B",onb_wel_desc:"Your digital companion for the best homemade pizza. Organize, order, and rate in real-time.",onb_inst_title:"Install the App",onb_inst_desc:"For the best experience, install the app by tapping the download button in the top bar.",onb_how_title:"How it Works",onb_enjoy_title:"Let's Eat!",onb_enjoy_desc:"Pick your favorite flavor, order your slices, and wait for the oven magic.",onb_btn_next:"Next",onb_btn_start:"Start",feat_prog_title:"Pizza Progress",feat_prog_desc:"This bar fills up as people order. When full, the pizza goes into the oven!",feat_oven_title:"Oven Status",feat_oven_desc:"When you see fire and red, your pizza is baking.",feat_ctrl_title:"Your Controls",feat_ctrl_desc:"Top Right: Change Language (EN), Text Size (T), Theme (Palette), and Dark Mode (Moon).",stockLabel:"Stock:",units:"u.",youOrdered:"ORDERED:",youAte:"ATE:",notNow:"Not now",yes:"Yes!",summaryTotalTitle:"You ordered",summaryWaitTitle:"Waiting",summaryOvenTitle:"In Oven",summaryReadyTitle:"Ready",rateQuestion:"Did you like",ateTimeAgo:"You ate",minAgo:"min ago...",adminLink:"Admin",confTitle:"Confirm Order?",confPizzaDesc:"This pizza will bake once all 8 slices are ordered. Check the progress bar!",confUnitDesc:"This will be cooked individually for you.",confTime:"Cooking time:",confBtn:"YES, I WANT IT!",cancelBtn:"Cancel"},it:{welcomeTitle:"Grazie per essere venuto,",welcomeSub:"sar\xe0 un piacere cucinare per te. \uD83E\uDEE0",whoAreYou:"IL TUO NOME?",namePlaceholder:"Scrivilo qui...",status:"persone hanno ordinato.",loading:"Accensione del forno...",buttonOrder:"ORDINA",inOven:"IN FORNO",wait:"Ordinate",ate:"Mangiato",customize:"Scegli il tuo stile:",errorName:"Per favore inserisci prima il tuo nome!",errorOven:"⚠️ Gi\xe0 in forno!",successOrder:"In arrivo! +1 di",successCancel:"Rimosso -1 di",readyAlert:"\xc8 PRONTA!",ovenAlert:"in forno!",okBtn:"CAPITO",notifOn:"\uD83D\uDD14 Attive",notifOff:"\uD83D\uDD15 Disattive",soldOut:"ESAURITA",blocked:"ACCESSO LIMITATO",remaining:"Rimangono",ingredientsFor:"Ingredienti per",portionsMore:"fette in pi\xf9",portions:"fette",progress:"PROGRESSO",newPizza:"NUOVA",missing:"MANCANO",completed:"COMPLETA!",only:"Solo",of:"di",enterPass:"Inserisci la password",rateTitle:"Vota",sendReview:"INVIA",rateBtn:"VOTA",topRated:"\uD83C\uDFC6 La preferita:",hotPick:"\uD83D\uDD25 Successo totale:",toughCrowd:"\uD83D\uDCC9 Opinioni divise:",fAll:"Tutte",fTop:"Migliori",fRate:"Da Votare",fOrdered:"Ordinate",fNew:"Da Provare",fStock:"Disponibile",sortRank:"Classifica",sumTotal:"Totale",sumWait:"Attesa",sumOven:"Forno",sumReady:"Pronte",emptyStock:"Tutto finito! \uD83D\uDE2D",emptyTop:"Niente qui. Sei esigente! \uD83E\uDDD0",emptyRate:"Tutto votato! Bravo \uD83E\uDEE1",emptyOrdered:"A dieta? Niente ordini... \uD83E\uDD28",emptyNew:"Hai provato tutto! \uD83C\uDF55",emptyDefault:"Nessuna pizza... Magia? \uD83C\uDFA9",onb_wel_title:"Benvenuto! \uD83D\uDC4B",onb_wel_desc:"Il tuo compagno digitale per la migliore pizza fatta in casa. Organizza, ordina e vota in tempo reale.",onb_inst_title:"Installa l'App",onb_inst_desc:"Per un'esperienza migliore, installa l'app toccando il pulsante di download nella barra in alto.",onb_how_title:"Come Funziona",onb_enjoy_title:"Buon Appetito!",onb_enjoy_desc:"Scegli il tuo gusto preferito, ordina le fette e aspetta la magia del forno.",onb_btn_next:"Avanti",onb_btn_start:"Inizia",feat_prog_title:"Progreso Pizza",feat_prog_desc:"Questa barra si riempie man mano che si ordina. Quando \xe8 piena, va in forno!",feat_oven_title:"Stato Forno",feat_oven_desc:"Quando vedi fuoco e rosso, la tua pizza sta cuocendo.",feat_ctrl_title:"I Tuoi Controlli",feat_ctrl_desc:"In alto a destra: Lingua (IT), Testo (T), Tema (Tavolozza) e Modalit\xe0 Scura (Luna).",stockLabel:"Disp:",units:"u.",youOrdered:"ORDINATO:",youAte:"MANGIATO:",notNow:"Non ora",yes:"S\xec!",summaryTotalTitle:"Hai ordinato",summaryWaitTitle:"In Attesa",summaryOvenTitle:"In Forno",summaryReadyTitle:"Pronte",rateQuestion:"Ti \xe8 piaciuta",ateTimeAgo:"Mangiato",minAgo:"min fa...",adminLink:"Admin",confTitle:"Confermare?",confPizzaDesc:"Questa pizza andr\xe0 in forno quando tutte le 8 fette saranno ordinate. Controlla la barra di avanzamento!",confUnitDesc:"Questo sar\xe0 cucinato individualmente per te.",confTime:"Tempo cottura:",confBtn:"S\xcc, GRAZIE!",cancelBtn:"Annulla"}};var f=a(2735),h=a(6679),v=a(6399),w=a(2805),j=a(4802),N=a(407),y=a(401);let _=e=>{let{show:t,step:a,setStep:r,complete:s,rotarIdioma:l,lang:c,t:d,userName:u}=e,[m,x]=(0,n.useState)(null),[p,g]=(0,n.useState)(null);return t?(0,o.jsxs)("div",{className:"fixed inset-0 z-[100] bg-white/95 backdrop-blur-xl flex flex-col items-center justify-center p-8 text-center text-neutral-900 animate-in fade-in duration-500 select-none",onTouchStart:e=>{g(null),x(e.targetTouches[0].clientX)},onTouchMove:e=>{g(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!m||!p)return;let e=m-p;e>50&&(a<3?r(e=>e+1):s()),e<-50&&a>0&&r(e=>e-1)},children:[(0,o.jsx)("div",{className:"absolute top-6 right-6",children:(0,o.jsxs)("button",{onClick:l,className:"bg-neutral-100 p-2 rounded-full font-bold text-xs shadow-sm border flex items-center gap-2",children:[(0,o.jsx)(i.Z,{size:14})," ",c.toUpperCase()]})}),(0,o.jsxs)("div",{className:"max-w-md w-full relative h-[70vh] flex flex-col justify-center",children:[0===a&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-6 animate-in slide-in-from-right-10 duration-500",children:[(0,o.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-40 w-auto object-contain drop-shadow-xl"}),(0,o.jsxs)("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-teal-500 to-emerald-700",children:["Bienvenido, ",u,"!"]}),(0,o.jsx)("p",{className:"text-neutral-500 text-lg leading-relaxed px-4",children:"Esta web te servir\xe1 para estar organizados, pidiendo y calificando en tiempo real."})]}),1===a&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-6 animate-in slide-in-from-right-10 duration-500",children:[(0,o.jsx)("div",{className:"w-32 h-32 rounded-full bg-teal-50 flex items-center justify-center mb-2 shadow-inner",children:(0,o.jsx)(f.Z,{size:64,className:"text-teal-500 animate-bounce",strokeWidth:1.5})}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-neutral-800",children:d.onb_inst_title}),(0,o.jsx)("p",{className:"text-neutral-500 text-lg leading-relaxed px-4",children:d.onb_inst_desc})]}),2===a&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4 animate-in slide-in-from-right-10 duration-500 text-left w-full",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-neutral-800 text-center w-full mb-2",children:d.onb_how_title}),(0,o.jsxs)("div",{className:"bg-white p-3 rounded-2xl flex items-center gap-4 w-full border border-neutral-100 shadow-sm",children:[(0,o.jsx)("div",{className:"bg-teal-50 p-3 rounded-xl text-teal-600",children:(0,o.jsx)(h.Z,{size:24})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-bold text-base text-neutral-800 mb-1",children:d.feat_prog_title}),(0,o.jsx)("div",{className:"h-1.5 w-full bg-neutral-100 rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full w-1/2 bg-teal-500 rounded-full"})}),(0,o.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:d.feat_prog_desc})]})]}),(0,o.jsxs)("div",{className:"bg-white p-3 rounded-2xl flex items-center gap-4 w-full border border-neutral-100 shadow-sm",children:[(0,o.jsx)("div",{className:"bg-orange-50 p-3 rounded-xl text-orange-600",children:(0,o.jsx)(v.Z,{size:24})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-bold text-base text-neutral-800 mb-1",children:d.feat_oven_title}),(0,o.jsx)("span",{className:"text-[9px] bg-red-600 text-white px-2 py-0.5 rounded-full font-bold",children:"EN HORNO"}),(0,o.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:d.feat_oven_desc})]})]}),(0,o.jsxs)("div",{className:"bg-white p-3 rounded-2xl flex items-center gap-4 w-full border border-neutral-100 shadow-sm",children:[(0,o.jsx)("div",{className:"bg-purple-50 p-3 rounded-xl text-purple-600",children:(0,o.jsx)(w.Z,{size:24})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"font-bold text-base text-neutral-800 mb-1",children:d.feat_ctrl_title}),(0,o.jsxs)("div",{className:"flex gap-2 mb-1",children:[(0,o.jsx)("div",{className:"w-4 h-4 rounded-full bg-neutral-200"}),(0,o.jsx)("div",{className:"w-4 h-4 rounded-full bg-neutral-200"}),(0,o.jsx)("div",{className:"w-4 h-4 rounded-full bg-neutral-200"})]}),(0,o.jsx)("p",{className:"text-sm text-neutral-500",children:d.feat_ctrl_desc})]})]})]}),3===a&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-6 animate-in slide-in-from-right-10 duration-500",children:[(0,o.jsx)("div",{className:"w-32 h-32 rounded-full bg-yellow-50 flex items-center justify-center mb-2 shadow-inner",children:(0,o.jsx)(j.Z,{size:64,className:"text-yellow-500",strokeWidth:1.5})}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-neutral-800",children:d.onb_enjoy_title}),(0,o.jsx)("p",{className:"text-neutral-500 text-lg leading-relaxed px-4",children:d.onb_enjoy_desc})]})]}),(0,o.jsxs)("div",{className:"fixed bottom-10 left-0 right-0 flex flex-col items-center gap-6 px-8",children:[(0,o.jsx)("div",{className:"flex gap-2",children:[0,1,2,3].map(e=>(0,o.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 ".concat(e===a?"bg-teal-600 w-8":"bg-neutral-200 w-2")},e))}),(0,o.jsxs)("button",{onClick:()=>{a<3?r(e=>e+1):s()},className:"bg-neutral-900 text-white w-full py-4 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-black transition-all shadow-xl active:scale-95",children:[3===a?d.onb_btn_start:d.onb_btn_next," ",a<3?(0,o.jsx)(N.Z,{size:18}):(0,o.jsx)(y.Z,{size:18})]})]})]}):null};var k=a(4766),D=a(4022),S=a(5805),z=a(5277),C=a(1281),T=a(6130),O=a(525),E=a(4440),A=a(7416),I=a(5929),R=a(7226),P=a(6337);let X=e=>{let{base:t,notifEnabled:a,toggleNotificaciones:n,rotarIdioma:r,lang:i,onlineUsers:s,config:l,isDarkMode:c,getBtnClass:d,cycleTextSize:u,orden:m,toggleOrden:x,isCompact:p,toggleCompact:b,toggleDarkMode:h,showThemeSelector:v,setShowThemeSelector:j,THEMES:N,changeTheme:y,isInstallable:_,handleInstallClick:X}=e;return(0,o.jsxs)("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-between items-start pointer-events-none",children:[(0,o.jsxs)("div",{className:"p-1 rounded-full border shadow-lg flex gap-1 pointer-events-auto ".concat(t.bar),children:[(0,o.jsx)("button",{onClick:n,className:d(a),children:a?(0,o.jsx)(k.Z,{size:20}):(0,o.jsx)(D.Z,{size:20})}),(0,o.jsx)("button",{onClick:r,className:d(!1)+" font-bold text-xs border border-current/20",children:i.toUpperCase()}),(0,o.jsxs)("div",{className:"flex items-center justify-center gap-1 p-2 rounded-full text-xs font-bold transition-all animate-pulse",children:[(0,o.jsx)(S.Z,{size:16,className:c?"text-green-400":"text-green-700"}),(0,o.jsxs)("span",{className:c?"text-white":"text-black",children:[s," / ",l.total_invitados]})]})]}),(0,o.jsxs)("div",{className:"flex flex-col items-end gap-2 pointer-events-none",children:[(0,o.jsxs)("div",{className:"p-1 rounded-full border shadow-lg flex gap-1 pointer-events-auto ".concat(t.bar," relative z-50"),children:[(0,o.jsx)("button",{onClick:u,className:d(!1),children:(0,o.jsx)(z.Z,{size:20})}),(0,o.jsx)("button",{onClick:x,className:d(!1),children:"estado"===m?(0,o.jsx)(C.Z,{size:20}):"nombre"===m?(0,o.jsx)(T.Z,{size:20}):(0,o.jsx)(O.Z,{size:20})}),(0,o.jsx)("button",{onClick:b,className:d(!p),children:p?(0,o.jsx)(A.Z,{size:20}):(0,o.jsx)(E.Z,{size:20})}),(0,o.jsx)("button",{onClick:h,className:d(!1),children:c?(0,o.jsx)(I.Z,{size:20}):(0,o.jsx)(R.Z,{size:20})}),(0,o.jsx)("button",{onClick:()=>j(!v),className:d(!1),children:(0,o.jsx)(w.Z,{size:20})}),v&&(0,o.jsx)("div",{className:"absolute top-14 right-0 bg-black/90 backdrop-blur p-2 rounded-xl flex gap-2 animate-in fade-in border border-white/20 shadow-xl",children:N.map(e=>(0,o.jsx)("button",{onClick:()=>y(e),className:"w-6 h-6 rounded-full ".concat(e.color," border-2 border-white ring-2 ring-transparent hover:scale-110 transition-transform")},e.name))})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 pointer-events-auto relative z-40",children:[_&&(0,o.jsx)("button",{onClick:X,className:"".concat(t.bar," p-2 rounded-full border shadow-lg animate-bounce"),children:(0,o.jsx)(f.Z,{size:20})}),(0,o.jsx)(g.default,{href:"/admin",className:"".concat(t.bar," p-2 rounded-full border shadow-lg"),children:(0,o.jsx)(P.Z,{size:20})})]})]})]})};var Z=a(8553),M=a(3305),L=a(1047),F=a(9397);let B=e=>{let{className:t}=e;return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,o.jsx)("path",{d:"M19.1 8a6 6 0 0 0-14.2 0"}),(0,o.jsx)("path",{d:"M4 11h16"}),(0,o.jsx)("rect",{x:"4",y:"15",width:"16",height:"4",rx:"2"}),(0,o.jsx)("path",{d:"M4 15h16"})]})},W=e=>{let{pizza:t,base:a,isCompact:n,isDarkMode:r,currentTheme:i,zoomLevel:s,t:l,DESC_SIZES:c,STOCK_SIZES:d,setImageToView:u,miHistorial:m,misValoraciones:x,openRating:g,modificarPedido:b}=e,f=m[t.id],h=(null==f?void 0:f.pendientes)||0,w=(null==f?void 0:f.comidos)||0,j="burger"===t.tipo,N="other"===t.tipo,y=j||N;return(0,o.jsxs)("div",{className:"".concat(a.card," ").concat(n?"rounded-3xl":"rounded-[36px]"," border ").concat(0===t.stockRestante?"border-neutral-200 dark:border-neutral-800":t.cocinando?"border-red-600/50 ring-1 ring-red-500/20":""," shadow-lg relative overflow-hidden group ").concat(n?"p-3":"p-5"," transition-all duration-300"),children:[!n&&t.imagen_url&&(0,o.jsxs)("div",{className:"mb-4 w-full h-44 rounded-2xl overflow-hidden relative cursor-pointer group-hover:shadow-md transition-all",onClick:()=>u(t.imagen_url),children:[(0,o.jsx)("img",{src:t.imagen_url,alt:t.displayName,className:"w-full h-full object-cover transition-transform duration-700 hover:scale-105"}),(0,o.jsx)("div",{className:"absolute top-2 right-2 bg-black/50 backdrop-blur-md p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,o.jsx)(A.Z,{size:14})})]}),(0,o.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[n&&t.imagen_url&&(0,o.jsx)("img",{src:t.imagen_url,onClick:e=>{e.stopPropagation(),u(t.imagen_url)},className:"w-10 h-10 rounded-full object-cover border border-white/20 cursor-pointer hover:scale-110 transition-transform"}),!t.imagen_url&&(j?(0,o.jsx)(B,{className:"text-orange-500 ".concat(n?"w-4 h-4":"w-5 h-5")}):N?(0,o.jsx)(Z.Z,{size:n?16:20,className:"text-blue-500"}):(0,o.jsx)(M.Z,{size:n?16:20,className:"text-red-500"})),(0,o.jsx)("h2",{className:"font-black leading-none ".concat(n?"text-lg":"text-2xl"," ").concat(0===t.stockRestante?"text-gray-400 dark:text-neutral-600":a.text),children:t.displayName}),(0,o.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-lg text-xs ".concat(a.badge),children:[(0,o.jsx)(p.Z,{size:12,className:t.countRating>0?"text-yellow-500":"text-gray-500 opacity-50",fill:t.countRating>0?"currentColor":"none"}),(0,o.jsx)("span",{className:"font-bold ".concat(t.countRating>0?"":"text-gray-500 opacity-50"),children:t.avgRating||"0.0"}),(0,o.jsxs)("span",{className:"text-[10px] ".concat(t.countRating>0?"opacity-60":"text-gray-500 opacity-40"),children:["(",t.countRating||0,")"]}),w>0&&!x.includes(t.id)&&(0,o.jsx)("button",{onClick:()=>g(t),className:"ml-1 bg-yellow-500 text-black px-1.5 py-0.5 rounded text-[9px] font-bold animate-pulse hover:scale-105 transition-transform",children:l.rateBtn})]}),t.cocinando&&(0,o.jsxs)("span",{className:"text-[10px] bg-red-600 text-white px-2 py-0.5 rounded-full font-bold animate-pulse flex items-center gap-1",children:[(0,o.jsx)(v.Z,{size:10,fill:"white"})," ",l.inOven]})]}),!n&&(0,o.jsx)("p",{className:"leading-relaxed max-w-[90%] opacity-70 ".concat(a.subtext," ").concat(c[s]),children:t.displayDesc}),(0,o.jsx)("p",{className:"font-mono mt-1 ".concat(0===t.stockRestante?"text-red-500 font-bold":a.subtext," ").concat(d[s]),children:0===t.stockRestante?l.soldOut:y?"".concat(l.stockLabel," ").concat(t.stockRestante," ").concat(l.units):"".concat(l.ingredientsFor," ").concat(t.stockRestante," ").concat(l.portionsMore)})]}),(0,o.jsxs)("div",{className:"flex flex-col items-end gap-1 ml-2",children:[h>0&&(0,o.jsxs)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded border whitespace-nowrap ".concat(r?"bg-white/10 border-white/20 text-white":"bg-neutral-800 border-neutral-800 text-white"),children:[l.youOrdered," ",h]}),w>0&&(0,o.jsxs)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded border whitespace-nowrap ".concat(r?"bg-white/10 border-white/20 text-white":"bg-neutral-800 border-neutral-800 text-white"),children:[l.youAte," ",w]})]})]}),!y&&(0,o.jsxs)("div",{className:"rounded-2xl border ".concat(n?"p-2 mb-2 mt-1":"p-3 mb-5 mt-4"," ").concat(a.progressBg),children:[(0,o.jsxs)("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider mb-2 ".concat(a.subtext),children:[(0,o.jsx)("span",{children:t.faltanParaCompletar===t.target?l.newPizza:l.progress}),(0,o.jsx)("span",{className:0===t.faltanParaCompletar?i.text:a.subtext,children:t.faltanParaCompletar>0?"".concat(l.missing," ").concat(t.faltanParaCompletar):l.completed})]}),(0,o.jsx)("div",{className:"rounded-full overflow-hidden flex border ".concat(n?"h-1.5":"h-2"," ").concat(a.progressTrack),children:[...Array(t.target)].map((e,a)=>(0,o.jsx)("div",{className:"flex-1 border-r last:border-0 ".concat(r?"border-black/50":"border-white/50"," ").concat(a<t.ocupadasActual?"bg-gradient-to-r ".concat("Carbone"===i.name?"from-white to-neutral-300":i.gradient):"bg-transparent")},a))})]}),y&&(0,o.jsx)("div",{className:"mb-4"}),(0,o.jsxs)("div",{className:"flex gap-3",children:[h>0&&(0,o.jsx)("button",{onClick:()=>b(t,"restar"),className:"rounded-2xl flex items-center justify-center border active:scale-95 transition ".concat(a.buttonSec," ").concat(n?"w-12 h-10":"w-16 h-14"),children:(0,o.jsx)(L.Z,{size:n?16:20})}),t.stockRestante>0?(0,o.jsxs)("button",{onClick:()=>b(t,"sumar"),className:"flex-1 rounded-2xl font-bold text-white shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 bg-gradient-to-r ".concat(i.gradient," hover:brightness-110 ").concat(n?"h-10 text-base":"h-14 text-lg"),children:[(0,o.jsx)(F.Z,{size:n?18:24,strokeWidth:3})," ",l.buttonOrder]}):(0,o.jsx)("div",{className:"flex-1 rounded-2xl font-bold flex items-center justify-center border ".concat(r?"text-neutral-500 bg-neutral-900 border-neutral-800":"text-gray-400 bg-gray-100 border-gray-200"," ").concat(n?"h-10 text-xs":"h-14 text-sm"),children:l.soldOut})]})]})};var U=a(2135),q=a(5317),H=a(3113);let Y=e=>{let{summarySheet:t,setSummarySheet:a,base:n,isDarkMode:r,currentTheme:i,mySummary:s,t:l,summaryData:c,modificarPedido:d}=e;return t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(null)}),(0,o.jsxs)("div",{className:"fixed bottom-4 left-4 right-4 z-50 rounded-3xl p-5 shadow-2xl border animate-in slide-in-from-bottom-4 duration-300 flex flex-col max-h-[60vh] ".concat(n.bar),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 ".concat(r?"text-white":"text-black"),children:["total"===t&&(0,o.jsx)("span",{children:l.summaryTotalTitle}),"wait"===t&&(0,o.jsxs)("span",{className:"flex items-center gap-2 ".concat(r?"text-white":"text-black"),children:[(0,o.jsx)(x.Z,{size:20})," ",l.summaryWaitTitle]}),"oven"===t&&(0,o.jsxs)("span",{className:"flex items-center gap-2 ".concat(r?"text-white":"text-black"),children:[(0,o.jsx)(v.Z,{size:20})," ",l.summaryOvenTitle]}),"ready"===t&&(0,o.jsxs)("span",{className:"flex items-center gap-2 ".concat(r?"text-white":"text-black"),children:[(0,o.jsx)(q.Z,{size:20})," ",l.summaryReadyTitle]})]}),(0,o.jsx)("button",{onClick:()=>a(null),className:"p-1.5 rounded-full hover:bg-black/10 transition-colors ".concat(r?"text-white":"text-black"),children:(0,o.jsx)(m.Z,{size:20})})]}),(0,o.jsx)("div",{className:"overflow-y-auto no-scrollbar space-y-2 pr-1",children:0===c.length?(0,o.jsx)("p",{className:"text-center py-4 text-xs opacity-60 ".concat(r?"text-white":"text-black"),children:"..."}):c.map(e=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-xl ".concat(r?"bg-white/10":"bg-gray-100/80"," border border-transparent"),children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-neutral-200 border border-white/20 flex-shrink-0",children:e.imagen_url?(0,o.jsx)("img",{src:e.imagen_url,className:"w-full h-full object-cover"}):(0,o.jsx)("div",{className:"flex items-center justify-center h-full text-neutral-400",children:(0,o.jsx)(H.Z,{size:16})})}),(0,o.jsx)("div",{className:"leading-tight",children:(0,o.jsx)("p",{className:"font-bold text-sm ".concat(r?"text-white":"text-black"),children:e.displayName})})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsxs)("span",{className:"text-xl font-black ".concat(r?"text-white":"text-black"),children:["x",e.count]}),!e.cocinando&&("wait"===t||"total"===t)&&(0,o.jsx)("button",{onClick:()=>d(e,"restar"),className:"p-1 bg-red-500/10 text-red-500 rounded hover:bg-red-500/20 active:scale-95 transition-all",children:(0,o.jsx)(L.Z,{size:16})})]})]},e.id))})]})]}):(0,o.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 rounded-full p-3 shadow-2xl ".concat(n.bar),children:(0,o.jsxs)("div",{className:"max-w-lg mx-auto flex justify-around items-center text-xs font-bold",children:[(0,o.jsxs)("button",{onClick:()=>a("total"),className:"flex flex-col items-center flex-1 transition-colors",children:[(0,o.jsx)(U.Z,{size:12,className:"mb-1 transition-transform duration-300"}),(0,o.jsx)("span",{className:"opacity-60 text-[9px] uppercase tracking-wider",children:l.sumTotal}),(0,o.jsx)("span",{className:"text-base",children:s.total})]}),(0,o.jsx)("div",{className:"h-6 w-[1px] bg-current opacity-20"}),(0,o.jsxs)("button",{onClick:()=>a("wait"),className:"flex flex-col items-center flex-1 transition-colors",children:[(0,o.jsx)(U.Z,{size:12,className:"mb-1 transition-transform duration-300"}),(0,o.jsxs)("span",{className:"opacity-60 text-[9px] uppercase tracking-wider flex items-center gap-1",children:[(0,o.jsx)(x.Z,{size:10})," ",l.sumWait]}),(0,o.jsx)("span",{className:"text-base",children:s.wait})]}),(0,o.jsx)("div",{className:"h-6 w-[1px] bg-current opacity-20"}),(0,o.jsxs)("button",{onClick:()=>a("oven"),className:"flex flex-col items-center flex-1 transition-colors",children:[(0,o.jsx)(U.Z,{size:12,className:"mb-1 transition-transform duration-300"}),(0,o.jsxs)("span",{className:"opacity-60 text-[9px] uppercase tracking-wider flex items-center gap-1",children:[(0,o.jsx)(v.Z,{size:10})," ",l.sumOven]}),(0,o.jsx)("span",{className:"text-base",children:s.oven})]}),(0,o.jsx)("div",{className:"h-6 w-[1px] bg-current opacity-20"}),(0,o.jsxs)("button",{onClick:()=>a("ready"),className:"flex flex-col items-center flex-1 transition-colors",children:[(0,o.jsx)(U.Z,{size:12,className:"mb-1 transition-transform duration-300"}),(0,o.jsxs)("span",{className:"opacity-60 text-[9px] uppercase tracking-wider flex items-center gap-1",children:[(0,o.jsx)(q.Z,{size:10})," ",l.sumReady]}),(0,o.jsx)("span",{className:"text-base",children:s.ready})]})]})})},G=(0,r.eI)("https://cutlcftpuiceogkkprtk.supabase.co","sb_publishable_zKg1ud99ikKeNNaLWb-sKw_hFkt9y3n"),Q=[{name:"Carbone",color:"bg-neutral-600",gradient:"from-neutral-700 to-neutral-900",border:"border-neutral-600/40",text:"text-neutral-400"},{name:"Turquesa",color:"bg-cyan-600",gradient:"from-cyan-600 to-teal-900",border:"border-cyan-600/40",text:"text-cyan-400"},{name:"Pistacho",color:"bg-lime-600",gradient:"from-lime-600 to-green-900",border:"border-lime-600/40",text:"text-lime-400"},{name:"Fuego",color:"bg-red-600",gradient:"from-red-600 to-rose-900",border:"border-red-600/40",text:"text-red-500"},{name:"Violeta",color:"bg-violet-600",gradient:"from-violet-600 to-purple-900",border:"border-violet-600/40",text:"text-violet-400"},{name:"Insta",color:"bg-pink-600",gradient:"from-purple-600 via-pink-600 to-orange-500",border:"border-pink-600/40",text:"text-pink-500"},{name:"Aurora",color:"bg-indigo-600",gradient:"from-blue-500 via-indigo-500 to-purple-500",border:"border-indigo-600/40",text:"text-indigo-400"},{name:"Sunset",color:"bg-orange-500",gradient:"from-rose-500 via-orange-500 to-yellow-500",border:"border-orange-500/40",text:"text-orange-500"},{name:"Oceanic",color:"bg-cyan-600",gradient:"from-cyan-500 via-blue-600 to-indigo-600",border:"border-cyan-600/40",text:"text-cyan-500"},{name:"Berry",color:"bg-fuchsia-600",gradient:"from-fuchsia-600 via-purple-600 to-pink-600",border:"border-fuchsia-600/40",text:"text-fuchsia-500"}],V={es:{sub:"\xa1Espero que la pases lindo hoy!",btn:"Invitados de Honor",admin:"Acceso Admin"},en:{sub:"Hope you have a great time today!",btn:"Guests of Honor",admin:"Admin Access"},it:{sub:"Spero che ti diverta oggi!",btn:"Ospiti d'Onore",admin:"Accesso Admin"}},J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ing",a="pizza"===e;return"ing"===t?a?"al horno":"en preparaci\xf3n":"ed"===t?a?"horneada":"lista":"short"===t?a?"Horno":"Cocina":a?"cocinando":"preparando"};function K(){var e;let[t,a]=(0,n.useState)("es"),r=b[t],[f,h]=(0,n.useState)("loading"),[v,w]=(0,n.useState)(""),[j,N]=(0,n.useState)(!0),[y,k]=(0,n.useState)(!0),[D,S]=(0,n.useState)(!1),[z,C]=(0,n.useState)(""),[T,O]=(0,n.useState)([]),[E,A]=(0,n.useState)([]),[I,R]=(0,n.useState)([]),[P,Z]=(0,n.useState)(!0),[M,L]=(0,n.useState)(""),[F,B]=(0,n.useState)(null),[U,q]=(0,n.useState)(!1),[H,K]=(0,n.useState)("estado"),[$,ee]=(0,n.useState)("all"),[et,ea]=(0,n.useState)(!1),[eo,en]=(0,n.useState)(null),[er,ei]=(0,n.useState)([]),[es,el]=(0,n.useState)(null),[ec,ed]=(0,n.useState)(null),[eu,em]=(0,n.useState)(!1),[ex,ep]=(0,n.useState)(null),eg=(0,n.useRef)(new Set),[eb,ef]=(0,n.useState)(0),eh=["text-xs","text-sm","text-base","text-lg","text-xl"],ev=["text-[10px]","text-xs","text-sm","text-base","text-lg"],[ew,ej]=(0,n.useState)(!1),[eN,ey]=(0,n.useState)(Q[1]),[e_,ek]=(0,n.useState)(!1),[eD,eS]=(0,n.useState)(0),[ez,eC]=(0,n.useState)(null),[eT,eO]=(0,n.useState)(!1),[eE,eA]=(0,n.useState)(!1),[eI,eR]=(0,n.useState)(0),[eP,eX]=(0,n.useState)(1),[eZ,eM]=(0,n.useState)(!1),[eL,eF]=(0,n.useState)(null),[eB,eW]=(0,n.useState)(0),[eU,eq]=(0,n.useState)(""),[eH,eY]=(0,n.useState)([]),[eG,eQ]=(0,n.useState)({}),[eV,eJ]=(0,n.useState)(""),[eK,e$]=(0,n.useState)({porciones_por_pizza:4,total_invitados:10,modo_estricto:!1,categoria_activa:'["General"]'}),[e0,e1]=(0,n.useState)(0),[e2,e5]=(0,n.useState)({}),[e4,e3]=(0,n.useState)([]),[e6,e8]=(0,n.useState)(!1),[e9,e7]=(0,n.useState)(""),te=(0,n.useRef)({}),tt=(0,n.useRef)({}),ta=(0,n.useRef)({}),to=(0,n.useRef)(!0),tn=(e,t)=>{B({texto:e,tipo:t}),"alerta"!==t&&setTimeout(()=>B(null),2500)},tr=()=>{let e=eV||eK.mensaje_bienvenida;return e?e=(e=(e=(e=e.replace(/\[nombre\]/gi,M||"Invitado")).replace(/\[fecha\]/gi,new Date().toLocaleDateString())).replace(/\[hora\]/gi,new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))).replace(/\[pizzas\]/gi,String(T.length)):null},ti=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";if("serviceWorker"in navigator&&navigator.serviceWorker.ready)try{(await navigator.serviceWorker.ready).showNotification(e,{body:t,icon:"/icon.png",badge:"/icon.png",vibrate:[200,100,200],data:{url:a}});return}catch(e){console.log("Fallo SW notification, intentando standard")}"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/icon.png"})},ts=e=>{ee(e),localStorage.setItem("vito-filter",e)},tl=()=>{let e="es";"es"===t?e="en":"en"===t&&(e="it"),a(e),localStorage.setItem("vito-lang",e)},tc=async(e,t)=>{try{let a=await fetch("https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=".concat(t,"&dt=t&q=").concat(encodeURI(e)));return(await a.json())[0][0][0]||e}catch(t){return console.error("Error traduciendo",t),e}};(0,n.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(e=>console.log("SW error:",e)),localStorage.getItem("vito-onboarding-seen")||eA(!0);let e=localStorage.getItem("vito-guest-name");e&&L(e);let t=localStorage.getItem("vito-guest-theme");t?ey(Q.find(e=>e.name===t)||Q[1]):ey(Q[1]);let o=localStorage.getItem("vito-dark-mode");null!==o?ej("true"===o):ej(!1);let n=localStorage.getItem("vito-lang");n&&a(n),"true"===localStorage.getItem("vito-notif-enabled")&&"undefined"!=typeof Notification&&"granted"===Notification.permission&&q(!0);let r=localStorage.getItem("vito-orden");r&&K(r);let i=localStorage.getItem("vito-compact");i&&ea("true"===i);let s=localStorage.getItem("vito-filter");s&&ee(s);let l=localStorage.getItem("vito-guest-pass-val");l&&w(l);let c=setInterval(()=>{eS(e=>e+1)},3e3),d=e=>{e.preventDefault(),eC(e),eO(!0)};window.addEventListener("beforeinstallprompt",d);let u=G.channel("online-users");return u.on("presence",{event:"sync"},()=>{eX(Object.values(u.presenceState()).reduce((e,t)=>e+(t.some(e=>"guest"===e.role)?1:0),0))}).subscribe(async e=>{"SUBSCRIBED"===e&&await u.track({online_at:new Date().toISOString(),role:"guest"})}),()=>{clearInterval(c),window.removeEventListener("beforeinstallprompt",d),G.removeChannel(u)}},[]),(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("vito-session-id");e||(e=crypto.randomUUID(),localStorage.setItem("vito-session-id",e));let t=navigator.userAgent,a="Desktop";/Mobi|Android/i.test(t)&&(a="Mobile");let o="Unknown";t.indexOf("Chrome")>-1?o="Chrome":t.indexOf("Safari")>-1?o="Safari":t.indexOf("Firefox")>-1&&(o="Firefox");let n={ip:null,city:null,country_name:null};try{let e=await fetch("https://ipapi.co/json/");e.ok&&(n=await e.json())}catch(e){}let{data:r}=await G.from("access_logs").select("id").eq("session_id",e).gt("created_at",new Date(new Date().setHours(0,0,0,0)).toISOString()).single();r?M&&await G.from("access_logs").update({invitado_nombre:M}).eq("id",r.id):await G.from("access_logs").insert([{session_id:e,device:a,browser:o,ip:n.ip,ciudad:n.city,pais:n.country_name,invitado_nombre:M||null}])})()},[M]),(0,n.useEffect)(()=>{"es"!==t&&0!==T.length&&(async()=>{let e={...eG},a=!1;for(let o of T)if(e[o.id]||(e[o.id]={}),!e[o.id][t]){let n=await tc(o.nombre,t),r=await tc(o.descripcion||"",t);e[o.id][t]={name:n,desc:r},a=!0}if(a&&eQ(e),eK.mensaje_bienvenida){let e=eK.mensaje_bienvenida.replace(/\n/g," XX_BR_XX ").replace(/\[nombre\]/gi,"XX_NAME_XX").replace(/\[fecha\]/gi,"XX_DATE_XX").replace(/\[hora\]/gi,"XX_TIME_XX").replace(/\[pizzas\]/gi,"XX_COUNT_XX"),a=await tc(e,t);eJ(a=a.replace(/XX_BR_XX/gi,"\n").replace(/XX _ BR _ XX/gi,"\n").replace(/XX_NAME_XX/gi,"[nombre]").replace(/XX _ NAME _ XX/gi,"[nombre]").replace(/XX_DATE_XX/gi,"[fecha]").replace(/XX _ DATE _ XX/gi,"[fecha]").replace(/XX_TIME_XX/gi,"[hora]").replace(/XX _ TIME _ XX/gi,"[hora]").replace(/XX_COUNT_XX/gi,"[pizzas]").replace(/XX _ COUNT _ XX/gi,"[pizzas]"))}})()},[t,T,eG,eK.mensaje_bienvenida]);let td=()=>{localStorage.getItem("vito-onboarding-seen")?h("app"):(h("onboarding"),eA(!0))},tu=async()=>{if(!ez)return;ez.prompt();let{outcome:e}=await ez.userChoice;"accepted"===e&&eO(!1),eC(null)},tm=(0,n.useCallback)(async()=>{let{data:e}=await G.from("configuracion_dia").select("*").single();e&&(e$(e),C(e.password_invitados||""));let t=localStorage.getItem("vito-guest-name"),a=localStorage.getItem("vito-guest-pass-val");!t||(null==e?void 0:e.password_invitados)&&a!==e.password_invitados?h("landing"):(L(t),h("app")),k(!1)},[]);(0,n.useEffect)(()=>{tm()},[tm]);let tx=(0,n.useCallback)(async()=>{let e=new Date,t=new Date(e);6>e.getHours()&&t.setDate(t.getDate()-1),t.setHours(6,0,0,0);let a=t.toISOString(),{data:o}=await G.from("pedidos").select("*").gte("created_at",a),{data:n}=await G.from("menu_pizzas").select("*").eq("activa",!0).order("created_at"),{data:r}=await G.from("lista_invitados").select("*"),{data:i}=await G.from("valoraciones").select("*").gte("created_at",a);if(i&&R(i),r){e3(r);let e=r.find(e=>e.nombre.toLowerCase()===M.toLowerCase());(null==e?void 0:e.bloqueado)?(e8(!0),e7(e.motivo_bloqueo||"")):(e8(!1),e7(""))}if(n&&o&&(A(o),e1(new Set(o.map(e=>e.invitado_nombre.toLowerCase().trim())).size),O(n),M)){let e=null==i?void 0:i.filter(e=>e.invitado_nombre.toLowerCase()===M.toLowerCase());e&&eY(e.map(e=>e.pizza_id));let t=o.filter(e=>e.invitado_nombre.toLowerCase()===M.toLowerCase().trim()),a={},r={};n.forEach(e=>{let o=t.filter(t=>t.pizza_id===e.id),n=o.filter(e=>"entregado"===e.estado).reduce((e,t)=>e+t.cantidad_porciones,0),i=o.filter(e=>"entregado"!==e.estado).reduce((e,t)=>e+t.cantidad_porciones,0);a[e.id]={pendientes:i,comidos:n},i>0&&(r[e.id]=i),!to.current&&"app"===f&&(!ta.current[e.id]&&e.cocinando&&i&&ti("pizza"===e.tipo?"\xa1Al Horno!":"\xa1En Marcha!","Tu ".concat(e.nombre," est\xe1 ").concat(J(e.tipo,"ing"),".")),ta.current[e.id]&&!e.cocinando&&te.current[e.id]>0&&(tn("\xa1Tu ".concat(e.nombre," EST\xc1 LISTA!"),"exito"),ti("\xa1".concat(e.nombre," Lista!"),"\xa1Ya est\xe1 ".concat(J(e.tipo,"ed"),"!"),"/?rate=".concat(e.id)))),ta.current[e.id]=e.cocinando,tt.current[e.id]=n,te.current[e.id]=i}),e5(a),to.current&&(to.current=!1)}Z(!1)},[M,f,r]);(0,n.useEffect)(()=>{tx();let e=G.channel("app-realtime").on("postgres_changes",{event:"*",schema:"public"},()=>tx()).subscribe();return()=>{G.removeChannel(e)}},[tx]),(0,n.useEffect)(()=>{let e=G.channel("security-check").on("postgres_changes",{event:"UPDATE",schema:"public",table:"configuracion_dia"},e=>{let t=e.new.password_invitados,a=localStorage.getItem("vito-guest-pass-val");t&&""!==t&&t!==a&&(alert("La contrase\xf1a de acceso ha cambiado. Por favor ingresa nuevamente."),h("password"),w(""),C(t))}).subscribe();return()=>{G.removeChannel(e)}},[]);let tp=(0,n.useMemo)(()=>{try{let e=JSON.parse(eK.categoria_activa);if("Todas"===e||Array.isArray(e)&&0===e.length)return[];return Array.isArray(e)?e:["General"]}catch(e){return["General"]}},[eK.categoria_activa]),tg=(0,n.useMemo)(()=>{let e=I.length>0?I.reduce((e,t)=>e+t.rating,0)/I.length:0;return T.map(a=>{let o=a.porciones_individuales||eK.porciones_por_pizza,n=E.filter(e=>e.pizza_id===a.id&&"entregado"!==e.estado).reduce((e,t)=>e+t.cantidad_porciones,0),r=(a.stock||0)*o,i=I.filter(e=>e.pizza_id===a.id),s=i.length>0?(i.reduce((e,t)=>e+t.rating,0)/i.length).toFixed(1):null,l=i.length>0?i.reduce((e,t)=>e+t.rating,0)/i.length:e,c=i.length,d=a.nombre,u=a.descripcion;return"es"!==t&&eG[a.id]&&eG[a.id][t]&&(d=eG[a.id][t].name,u=eG[a.id][t].desc),{...a,displayName:d,displayDesc:u,stockRestante:Math.max(0,r-n),target:o,ocupadasActual:n%o,faltanParaCompletar:o-n%o,avgRating:s,countRating:c,sortRating:l,totalPendientes:n}})},[T,E,eK,I,t,eG]),tb=(0,n.useMemo)(()=>es?tg.filter(e=>{let t=e2[e.id];return!!t&&("wait"===es?t.pendientes>0&&!e.cocinando:"oven"===es?t.pendientes>0&&e.cocinando:"ready"===es?t.comidos>0:"total"===es&&t.pendientes>0)}).map(e=>{let t=e2[e.id],a=0;return a="wait"===es?t.pendientes:"oven"===es?t.pendientes:"ready"===es?t.comidos:t.pendientes,{...e,count:a}}):[],[es,tg,e2]),tf=(0,n.useMemo)(()=>{let e=0,t=0,a=0,o=0;return T.forEach(n=>{let r=e2[n.id];if(r){let i=r.pendientes;i>0&&(n.cocinando?a+=i:t+=i),o+=r.comidos,e+=i}}),{total:e,wait:t,oven:a,ready:o}},[e2,T]),th=(0,n.useMemo)(()=>{if(P)return r.loading;let e=["".concat(e0," ").concat(r.status)],a=T.map(e=>{let a=I.filter(t=>t.pizza_id===e.id),o=a.length>0?a.reduce((e,t)=>e+t.rating,0)/a.length:0,n=(e.stock||0)*(e.porciones_individuales||eK.porciones_por_pizza),r=E.filter(t=>t.pizza_id===e.id).reduce((e,t)=>e+t.cantidad_porciones,0),i=e.nombre;return"es"!==t&&eG[e.id]&&eG[e.id][t]&&(i=eG[e.id][t].name),{...e,displayName:i,stock:Math.max(0,n-r),avg:o,count:a.length}});a.forEach(t=>{0===t.stock?e.push("".concat(t.displayName,": ").concat(r.soldOut," \uD83D\uDE2D")):t.stock<=5&&e.push("".concat(r.only," ").concat(t.stock," ").concat(r.of," ").concat(t.displayName,"! \uD83C\uDFC3"))});let o=[...a].sort((e,t)=>t.avg-e.avg)[0];return o&&o.avg>=4.5&&o.count>1&&e.push("".concat(r.topRated," ").concat(o.displayName," (").concat(o.avg.toFixed(1),"★)")),a.filter(e=>e.avg>4.7&&e.count>2).forEach(t=>e.push("".concat(r.hotPick," ").concat(t.displayName,"!"))),e[eD%e.length]},[e0,T,E,eD,P,r,eK,I,t,eG]);(0,n.useEffect)(()=>{if(0===tg.length)return;let e=[...tg];tp.length>0&&!tp.includes("Todas")&&(e=e.filter(e=>tp.includes(e.categoria||"General"))),"all"!==$&&(e=e.filter(e=>{var t,a,o,n,r;return"top"===$?e.avgRating&&parseFloat(e.avgRating)>=4.5:"to_rate"===$?(null===(t=e2[e.id])||void 0===t?void 0:t.comidos)>0&&!eH.includes(e.id):"ordered"===$?(null===(a=e2[e.id])||void 0===a?void 0:a.pendientes)>0||(null===(o=e2[e.id])||void 0===o?void 0:o.comidos)>0:"new"===$?!(null===(n=e2[e.id])||void 0===n?void 0:n.pendientes)&&!(null===(r=e2[e.id])||void 0===r?void 0:r.comidos):"stock"!==$||e.stockRestante>0})),e.sort((e,t)=>{let a=!e.cocinando&&e.totalPendientes>=e.target,o=!t.cocinando&&t.totalPendientes>=t.target;if(a&&!o)return -1;if(!a&&o)return 1;if(e.cocinando&&!t.cocinando)return -1;if(!e.cocinando&&t.cocinando)return 1;let n=e.stockRestante>0,r=t.stockRestante>0;if(n&&!r)return -1;if(!n&&r)return 1;if("ranking"===H)return t.sortRating-e.sortRating;if("nombre"===H)return e.displayName.localeCompare(t.displayName);let i=e.ocupadasActual,s=t.ocupadasActual;return i!==s?s-i:e.displayName.localeCompare(t.displayName)}),ei(e.map(e=>e.id))},[H,$,T.length,JSON.stringify(T.map(e=>({id:e.id,cocinando:e.cocinando,stock:e.stock}))),JSON.stringify(tp)]),(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("rate");if(e&&tg.length>0){let t=tg.find(t=>t.id===e)||T.find(t=>t.id===e);if(t){tv(t);let e=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.replaceState({path:e},"",e)}}},[tg]),(0,n.useEffect)(()=>{if(!M||!T.length)return;let e=localStorage.getItem("vito-review-queue"),t=e?JSON.parse(e):[],a=!1;E.filter(e=>e.invitado_nombre===M&&"entregado"===e.estado).forEach(e=>{if(!(eH.includes(e.pizza_id)||t.find(t=>t.id===e.id))&&!eg.current.has(e.id)&&(eg.current.add(e.id),!to.current)){let o=eK.tiempo_recordatorio_minutos||10,n=Date.now()+6e4*o;t.push({id:e.id,pizzaId:e.pizza_id,triggerAt:n}),a=!0}}),a&&localStorage.setItem("vito-review-queue",JSON.stringify(t));let o=setInterval(()=>{let e=localStorage.getItem("vito-review-queue");if(!e)return;let t=JSON.parse(e),a=Date.now(),o=[],n=[];if(t.forEach(e=>{eH.includes(e.pizzaId)||(a>=e.triggerAt?o.push(e):n.push(e))}),o.length>0){let e=o[0],t=tg.find(t=>t.id===e.pizzaId)||T.find(t=>t.id===e.pizzaId);if(t){let e=eK.tiempo_recordatorio_minutos||10,a=t.displayName||t.nombre;ti(r.rateQuestion+" "+a+"?","".concat(r.ateTimeAgo," ").concat(e," ").concat(r.minAgo),"/?rate=".concat(t.id)),ep(t),em(!0)}localStorage.setItem("vito-review-queue",JSON.stringify(n))}},1e4);return()=>clearInterval(o)},[E,M,T,tg,eH,eK]);let tv=e=>{eF(e),eW(0),eq(""),eM(!0)},tw=async()=>{if(0===eB)return;await G.from("valoraciones").insert([{pizza_id:eL.id,invitado_nombre:M,rating:eB,comentario:eU}]),eY(e=>[...e,eL.id]);let e=localStorage.getItem("vito-review-queue");if(e){let t=JSON.parse(e).filter(e=>e.pizzaId!==eL.id);localStorage.setItem("vito-review-queue",JSON.stringify(t))}eM(!1),em(!1),tx()};async function tj(e,t){if(!M.trim()){alert(r.errorName);return}if(e6){alert("".concat(r.blocked,": ").concat(e9||""));return}if("sumar"===t){if(e.stockRestante<=0){alert("Sin stock :(");return}ed(e)}else{if(e.cocinando){tn("\uD83D\uDD25 \xa1Ya est\xe1 ".concat(J(e.tipo),"! No se puede cancelar."),"alerta");return}let t=E.filter(t=>t.pizza_id===e.id&&t.invitado_nombre.toLowerCase()===M.toLowerCase().trim()&&"pendiente"===t.estado);if(t.length>0){let a=t[0];A(E.filter(e=>e.id!==a.id)),tn("".concat(r.successCancel," ").concat(e.displayName),"info"),await G.from("pedidos").delete().eq("id",a.id),tx()}}}let tN=async()=>{if(!ec)return;let e={id:"temp-".concat(Date.now()),invitado_nombre:M,pizza_id:ec.id,cantidad_porciones:1,estado:"pendiente",created_at:new Date().toISOString()};A(t=>[...t,e]),ed(null),tn("".concat(r.successOrder," ").concat(ec.displayName,"!"),"exito");let{error:t}=await G.from("pedidos").insert([{invitado_nombre:M,pizza_id:ec.id,cantidad_porciones:1,estado:"pendiente"}]);t?(A(t=>t.filter(t=>t.id!==e.id)),alert("Error al pedir. Intenta de nuevo.")):tx()},ty=ew?{bg:"bg-neutral-950",text:"text-white",subtext:"text-neutral-500",card:"bg-neutral-900 border-neutral-800",innerCard:"bg-white/5 border border-white/5 text-neutral-300",input:"bg-transparent text-white placeholder-neutral-600",inputContainer:"bg-neutral-900 border-neutral-800",buttonSec:"bg-black/20 text-white hover:bg-black/40 border-white/10",progressBg:"bg-black/40 border-white/5",progressTrack:"bg-neutral-800 border-black/50",badge:"bg-white/10 text-white border border-white/10",activeChip:"bg-white text-black font-bold",inactiveChip:"bg-neutral-900 text-neutral-400 border border-neutral-800",bar:"bg-neutral-900/50 backdrop-blur-md border-white/10 shadow-lg text-white border"}:{bg:"bg-gray-50",text:"text-gray-900",subtext:"text-gray-500",card:"bg-white border-gray-200 shadow-md",innerCard:"bg-neutral-100 border border-transparent text-gray-600",input:"bg-transparent text-gray-900 placeholder-gray-400",inputContainer:"bg-white border-gray-200 shadow-sm",buttonSec:"bg-gray-200 text-gray-600 hover:text-black border-gray-300",progressBg:"bg-gray-100 border-gray-200",progressTrack:"bg-gray-300 border-white/50",badge:"bg-black/5 text-gray-700 border border-black/5",activeChip:"bg-black text-white font-bold",inactiveChip:"bg-white text-gray-500 border border-gray-200",bar:"bg-white/50 backdrop-blur-md border-gray-300 shadow-lg text-gray-900 border"};return y||"loading"===f?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 ".concat(ty.bg),children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ".concat(ew?"border-white":"border-black")})}):"landing"===f?(0,o.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 font-sans ".concat(ty.bg),children:[(0,o.jsx)("div",{className:"absolute top-6 right-6 z-50",children:(0,o.jsxs)("button",{onClick:tl,className:"bg-neutral-100 p-2 rounded-full font-bold text-xs shadow-sm border flex items-center gap-2",children:[(0,o.jsx)(i.Z,{size:14})," ",t.toUpperCase()]})}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center w-full max-w-sm relative z-10",children:[(0,o.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-64 w-auto object-contain mb-8 drop-shadow-2xl animate-in fade-in zoom-in duration-700"}),(0,o.jsx)("p",{className:"text-xl font-medium opacity-80 text-center mb-12 ".concat(ty.text),children:V[t].sub}),(0,o.jsxs)("button",{onClick:()=>h("name"),className:"w-full py-5 rounded-2xl text-xl font-bold shadow-2xl transition-transform active:scale-95 flex items-center justify-center gap-3 ".concat(eN.color," text-white"),children:[(0,o.jsx)(s.Z,{size:24})," ",V[t].btn]}),(0,o.jsxs)(g.default,{href:"/admin",className:"mt-8 text-sm font-bold opacity-40 hover:opacity-100 flex items-center gap-2 transition-opacity ".concat(ty.text),children:[(0,o.jsx)(l.Z,{size:14})," ",V[t].admin]})]})]}):"name"===f?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 ".concat(ty.bg),children:(0,o.jsxs)("div",{className:"w-full max-w-md p-8 rounded-3xl border shadow-2xl ".concat(ty.card," animate-in fade-in slide-in-from-bottom-10"),children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center ".concat(ty.text),children:"Empecemos, \xbfcu\xe1l es tu nombre?"}),(0,o.jsx)("input",{type:"text",value:M,onChange:e=>L(e.target.value),placeholder:"Tu nombre...",className:"w-full p-4 rounded-xl border outline-none text-lg text-center mb-4 ".concat(ty.inputContainer," ").concat(ty.text),autoFocus:!0}),(0,o.jsxs)("button",{onClick:()=>{if(!M.trim())return alert("Por favor ingresa tu nombre");localStorage.setItem("vito-guest-name",M),z&&""!==z?h("password"):td()},className:"w-full py-4 rounded-xl font-bold ".concat(eN.color," text-white shadow-lg"),children:["Continuar ",(0,o.jsx)(c.Z,{className:"inline ml-2"})]}),(0,o.jsx)("button",{onClick:()=>h("landing"),className:"w-full py-3 mt-2 text-sm opacity-50 ".concat(ty.text),children:"Volver"})]})}):"password"===f?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 ".concat(ty.bg),children:(0,o.jsxs)("div",{className:"w-full max-w-md p-8 rounded-3xl border shadow-2xl ".concat(ty.card," animate-in fade-in slide-in-from-bottom-10"),children:[(0,o.jsx)("h2",{className:"text-xl font-bold mb-6 text-center ".concat(ty.text),children:r.enterPass}),(0,o.jsxs)("div",{className:"relative mb-4",children:[(0,o.jsx)("input",{type:j?"text":"password",value:v,onChange:e=>w(e.target.value),className:"w-full p-4 rounded-xl border outline-none text-center text-lg tracking-widest ".concat(ty.inputContainer," ").concat(ty.text),placeholder:"****",autoFocus:!0}),(0,o.jsx)("button",{onClick:()=>N(!j),className:"absolute right-4 top-4 opacity-50",children:j?(0,o.jsx)(d.Z,{}):(0,o.jsx)(u.Z,{})})]}),(0,o.jsx)("button",{onClick:()=>{v===z?(localStorage.setItem("vito-guest-pass-val",v),td()):alert("Contrase\xf1a incorrecta")},className:"w-full py-4 rounded-xl font-bold ".concat(eN.color," text-white shadow-lg"),children:"Ingresar"}),(0,o.jsx)("button",{onClick:()=>h("name"),className:"w-full py-3 mt-2 text-sm opacity-50 ".concat(ty.text),children:"Volver"})]})}):"onboarding"===f?(0,o.jsx)(_,{show:!0,step:eI,setStep:eR,complete:()=>{localStorage.setItem("vito-onboarding-seen","true"),eA(!1),h("app")},rotarIdioma:tl,lang:t,t:r,userName:M}):(0,o.jsxs)("div",{className:"min-h-screen font-sans pb-28 transition-colors duration-500 overflow-x-hidden ".concat(ty.bg),children:[(0,o.jsx)(X,{base:ty,notifEnabled:U,toggleNotificaciones:()=>{U?(q(!1),localStorage.setItem("vito-notif-enabled","false"),tn(r.notifOff,"info")):Notification.requestPermission().then(e=>{"granted"===e?(q(!0),localStorage.setItem("vito-notif-enabled","true"),tn(r.notifOn,"info"),ti("Il Forno di Vito","\xa1Notificaciones activadas correctamente!")):alert("Activa las notificaciones en la configuraci\xf3n de tu navegador.")})},rotarIdioma:tl,lang:t,onlineUsers:eP,config:eK,isDarkMode:ew,getBtnClass:e=>{let t="p-2 rounded-full transition-all duration-300 flex items-center justify-center bg-transparent ",a=e?"scale-110":"hover:scale-105";return ew?"".concat(t," ").concat(a," ").concat(e?"text-white":"text-neutral-200 hover:text-white"):"".concat(t," ").concat(a," ").concat(e?"text-black":"text-neutral-800 hover:text-black")},cycleTextSize:()=>{ef(e=>(e+1)%5)},orden:H,toggleOrden:()=>{let e="estado"===H?"nombre":"nombre"===H?"ranking":"estado";K(e),localStorage.setItem("vito-orden",e)},isCompact:et,toggleCompact:()=>{let e=!et;ea(e),localStorage.setItem("vito-compact",String(e))},toggleDarkMode:()=>{let e=!ew;ej(e),localStorage.setItem("vito-dark-mode",String(e))},showThemeSelector:e_,setShowThemeSelector:ek,THEMES:Q,changeTheme:e=>{ey(e),localStorage.setItem("vito-guest-theme",e.name),ek(!1)},isInstallable:eT,handleInstallClick:tu}),(0,o.jsxs)("div",{className:"w-full p-6 pb-6 rounded-b-[40px] bg-gradient-to-br ".concat(eN.gradient," shadow-2xl relative overflow-hidden"),children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -mt-20 -mr-20 blur-3xl"}),(0,o.jsxs)("div",{className:"relative z-10 pt-16",children:[(0,o.jsx)("div",{className:"mb-6",children:(()=>{let e=tr();if(!e)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h1",{className:"text-3xl font-bold leading-tight drop-shadow-md text-white",children:["Bienvenido, ",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"text-4xl",children:M})]}),(0,o.jsx)("p",{className:"mt-2 text-lg text-white/80 font-medium",children:"Disfruta de la mejor comida \uD83C\uDF55\uD83C\uDF54"})]});{let t=e.split("\n");return(0,o.jsxs)("h1",{className:"text-3xl font-bold leading-tight drop-shadow-md text-white whitespace-pre-wrap",children:[t[0],t.length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"opacity-80 font-normal text-xl",children:t.slice(1).join("\n")})]})]})}})()}),(0,o.jsx)("div",{className:"flex items-center gap-3 text-sm font-medium bg-black/30 p-3 rounded-2xl w-max backdrop-blur-md border border-white/10 text-white animate-in fade-in duration-500 mx-auto mb-4",children:(0,o.jsx)("span",{className:"text-neutral-300 text-xs font-bold",children:th})}),(0,o.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar px-2",children:["all","stock","top","to_rate","ordered","new"].map(e=>(0,o.jsx)("button",{onClick:()=>ts(e),className:"px-4 py-1.5 rounded-full text-xs whitespace-nowrap transition-colors ".concat($===e?ty.activeChip:ty.inactiveChip),children:"all"===e?r.fAll:"stock"===e?r.fStock:"top"===e?r.fTop:"to_rate"===e?r.fRate:"ordered"===e?r.fOrdered:r.fNew},e))})]})]}),(0,o.jsxs)("div",{className:"px-4 mt-6 relative z-20 max-w-lg mx-auto pb-20",children:[F&&(0,o.jsxs)("div",{className:"fixed top-20 left-4 right-4 p-3 rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.8)] z-[100] flex flex-col items-center justify-center animate-bounce-in text-center ".concat("alerta"===F.tipo?"border-4 border-neutral-900 font-bold":"border-2 border-neutral-200 font-bold"," bg-white text-black"),children:[(0,o.jsx)("div",{className:"flex items-center gap-2 mb-1 text-sm",children:F.texto}),"alerta"===F.tipo&&(0,o.jsx)("button",{onClick:()=>B(null),className:"mt-1 bg-neutral-900 text-white px-6 py-1.5 rounded-full text-xs font-bold shadow-lg active:scale-95 hover:bg-black transition-transform",children:r.okBtn})]}),eo&&(0,o.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 animate-in fade-in",onClick:()=>en(null),children:[(0,o.jsx)("button",{onClick:()=>en(null),className:"absolute top-4 right-4 text-white p-2 bg-white/10 rounded-full",children:(0,o.jsx)(m.Z,{size:24})}),(0,o.jsx)("img",{src:eo,alt:"Zoom",className:"max-w-full max-h-[80vh] rounded-2xl shadow-2xl"})]}),ec&&(0,o.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/60 backdrop-blur-md animate-in fade-in zoom-in duration-300",children:(0,o.jsxs)("div",{className:"".concat(ty.card," w-full max-w-sm rounded-[32px] p-6 shadow-2xl relative border"),children:[(0,o.jsx)("h3",{className:"text-2xl font-black mb-1 ".concat(ty.text),children:r.confTitle}),(0,o.jsx)("p",{className:"text-lg font-medium mb-4 ".concat(eN.text),children:ec.displayName}),(0,o.jsxs)("div",{className:"".concat(ty.innerCard," rounded-2xl p-4 mb-6"),children:[(0,o.jsx)("p",{className:"text-sm leading-relaxed mb-3 ".concat(ty.subtext),children:"pizza"===ec.tipo?r.confPizzaDesc:r.confUnitDesc}),(0,o.jsxs)("div",{className:"flex items-center gap-2 font-bold text-sm",children:[(0,o.jsx)(x.Z,{size:18,className:ew?"text-white":"text-black"}),(0,o.jsxs)("span",{className:ty.text,children:[r.confTime," ",(e=ec.tiempo_coccion||60,"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0")))]})]})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)("button",{onClick:()=>ed(null),className:"flex-1 py-3 rounded-xl font-bold border ".concat(ty.subtext),children:r.cancelBtn}),(0,o.jsx)("button",{onClick:tN,className:"flex-1 py-3 rounded-xl font-bold shadow-lg ".concat(eN.color," text-white"),children:r.confBtn})]})]})}),eZ&&(0,o.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:(0,o.jsxs)("div",{className:"".concat(ty.card," p-6 rounded-3xl w-full max-w-sm relative shadow-2xl border"),children:[(0,o.jsx)("button",{onClick:()=>eM(!1),className:"absolute top-4 right-4 ".concat(ty.subtext," hover:").concat(ty.text),children:(0,o.jsx)(m.Z,{})}),(0,o.jsxs)("h3",{className:"text-xl font-bold mb-1 ".concat(ty.text),children:[r.rateTitle," ",(null==eL?void 0:eL.displayName)||(null==eL?void 0:eL.nombre)]}),(0,o.jsx)("div",{className:"flex justify-center gap-2 mb-6 mt-4",children:[1,2,3,4,5].map(e=>(0,o.jsx)("button",{onClick:()=>eW(e),className:"transition-transform hover:scale-110",children:(0,o.jsx)(p.Z,{size:32,fill:e<=eB?"#eab308":"transparent",className:e<=eB?"text-yellow-500":"text-neutral-600"})},e))}),(0,o.jsx)("textarea",{className:"w-full p-3 rounded-xl border outline-none mb-4 resize-none h-24 ".concat(ty.input," ").concat(ew?"border-neutral-700 bg-black/50":"border-gray-200 bg-gray-50"),placeholder:"...",value:eU,onChange:e=>eq(e.target.value)}),(0,o.jsx)("button",{onClick:tw,disabled:0===eB,className:"w-full py-3 rounded-xl font-bold shadow-lg ".concat(eB>0?"".concat(eN.color," text-white"):"bg-neutral-800 text-neutral-500"),children:r.sendReview})]})}),eu&&ex&&(0,o.jsx)("div",{className:"fixed top-24 left-4 right-4 z-[100] animate-bounce-in",children:(0,o.jsxs)("div",{className:"".concat(ty.card," p-4 rounded-2xl shadow-2xl border border-yellow-500/50 flex items-center justify-between gap-3"),children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"bg-yellow-500 p-2 rounded-xl text-black",children:(0,o.jsx)(p.Z,{size:20,fill:"black"})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"text-sm font-bold ".concat(ty.text),children:[r.rateQuestion," ",ex.displayName||ex.nombre,"?"]}),(0,o.jsxs)("p",{className:"text-[10px] ".concat(ty.subtext),children:[r.ateTimeAgo," ",eK.tiempo_recordatorio_minutos||10," ",r.minAgo]})]})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("button",{onClick:()=>{em(!1)},className:"px-3 py-1.5 rounded-lg text-xs font-bold border ".concat(ty.subtext),children:r.notNow}),(0,o.jsx)("button",{onClick:()=>{em(!1),tv(ex)},className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-yellow-500 text-black shadow-lg",children:r.yes})]})]})}),(0,o.jsx)(Y,{summarySheet:es,setSummarySheet:el,base:ty,isDarkMode:ew,currentTheme:eN,mySummary:tf,t:r,summaryData:tb,modificarPedido:tj}),(0,o.jsx)("div",{className:"space-y-3 pb-4",children:P?(0,o.jsx)("p",{className:"text-center ".concat(ty.subtext," mt-10 animate-pulse"),children:r.loading}):0===er.length?(0,o.jsxs)("div",{className:"text-center py-10 opacity-60",children:[(0,o.jsx)("p",{className:"text-4xl mb-2",children:"\uD83D\uDC7B"}),(0,o.jsx)("p",{className:"text-sm font-bold ".concat(ty.subtext),children:(()=>{switch($){case"stock":return r.emptyStock;case"top":return r.emptyTop;case"to_rate":return r.emptyRate;case"ordered":return r.emptyOrdered;case"new":return r.emptyNew;default:return r.emptyDefault}})()})]}):er.map(e=>{let t=tg.find(t=>t.id===e);return t?(0,o.jsx)(W,{pizza:t,base:ty,isCompact:et,isDarkMode:ew,currentTheme:eN,zoomLevel:eb,t:r,DESC_SIZES:eh,STOCK_SIZES:ev,setImageToView:en,miHistorial:e2,misValoraciones:eH,openRating:tv,modificarPedido:tj},t.id):null})})]})]})}}},function(e){e.O(0,[491,855,971,117,744],function(){return e(e.s=4988)}),_N_E=e.O()}]);
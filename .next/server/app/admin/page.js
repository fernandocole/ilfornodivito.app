(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},8180:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(8748),a(1506),a(5866);var s=a(3191),i=a(8716),r=a(7922),n=a.n(r),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8748)),"D:\\VARIOS\\DESCARGAS\\ILFORNODIVITO APP\\ilfornodivito.app v1\\app\\admin\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"D:\\VARIOS\\DESCARGAS\\ILFORNODIVITO APP\\ilfornodivito.app v1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\VARIOS\\DESCARGAS\\ILFORNODIVITO APP\\ilfornodivito.app v1\\app\\admin\\page.tsx"],x="/admin/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7744:(e,t,a)=>{Promise.resolve().then(a.bind(a,4808))},355:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},5736:()=>{},4808:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>e_});var s=a(326),i=a(7577),r=a(5157),n=a(1216),l=a(2714),o=a(4061),d=a(2881);let c=(0,d.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var x=a(9392),p=a(850),m=a(2607),u=a(5743),h=a(2097),b=a(715),g=a(1692);let f=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var j=a(4019),v=a(3855);let y=(0,d.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),w=(0,d.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var N=a(891);let k=(0,d.Z)("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),z=(0,d.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),_=(0,d.Z)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var C=a(730);let $=(0,d.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),S=(0,d.Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),P=(0,d.Z)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),M=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),E=(0,d.Z)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);var A=a(8998);let Z=(0,d.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),q=e=>e||0===e?`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`:"00:00",I=({start:e,duration:t,onFinish:a,small:r=!1})=>{let[n,l]=(0,i.useState)(t);(0,i.useEffect)(()=>{if(!e)return;let s=setInterval(()=>{let s=new Date(e).getTime(),i=Math.max(0,t-Math.max(0,Math.floor((new Date().getTime()-s)/1e3)));l(i),0===i&&a&&a()},1e3);return()=>clearInterval(s)},[e,t,a]);let o=0===n;return r?(0,s.jsxs)("span",{className:`ml-1 text-[10px] px-2 py-0.5 rounded-full font-mono font-bold flex items-center gap-1 transition-colors ${o?"bg-black/20 text-white/50":"bg-black/40 text-white"}`,children:[s.jsx(A.Z,{size:10}),Math.floor(n/60),":",(n%60).toString().padStart(2,"0")]}):(0,s.jsxs)("div",{className:`flex items-center gap-1 font-mono font-bold px-2 py-0.5 rounded-full text-xs transition-all duration-300 ${o?"bg-gray-600 text-white shadow-sm":"bg-gray-500 text-white border border-gray-400/30"}`,children:[s.jsx(A.Z,{size:12,className:o?"":"animate-pulse"}),s.jsx("span",{className:"tabular-nums",children:o?"LISTO":q(n)})]})},O=({metricas:e,base:t,isCompact:a,isDarkMode:r,currentTheme:n,toggleCocinando:l,entregar:o})=>{let[d,c]=(0,i.useState)("with_orders"),x=e.filter(e=>{let t=e.totalPendientes>0,a=e.completas>0,s=e.cocinando;return"all"===d||("with_orders"===d?t||s||a:"pending"===d?t&&!s&&!a:"cooking"===d?s:"ready"!==d||a)}),p=e=>`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap transition-colors ${e?`${n.color} text-white border-transparent shadow-md`:t.buttonSec}`,m=e=>{let t="pizza"===e.tipo;return{textReady:t?"EN HORNO":"PREPARANDO",textAction:t?"Al Horno":"Cocinar",color:t?"bg-red-600 border-red-600":"bg-orange-500 border-orange-500",icon:t?s.jsx(N.Z,{size:a?14:16,className:e.cocinando?"animate-bounce":""}):s.jsx(E,{size:a?14:16,className:e.cocinando?"animate-pulse":""})}},u=`flex-1 bg-transparent border font-bold rounded-xl flex items-center justify-center gap-1 py-3 active:scale-95 transition-colors 
        ${r?"border-neutral-600 text-neutral-200 hover:bg-neutral-800 hover:text-white":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:text-black"} text-[10px]`;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[s.jsx("button",{onClick:()=>c("with_orders"),className:p("with_orders"===d),children:"Con Pedidos"}),s.jsx("button",{onClick:()=>c("all"),className:p("all"===d),children:"Todas"}),s.jsx("button",{onClick:()=>c("pending"),className:p("pending"===d),children:"En Espera"}),s.jsx("button",{onClick:()=>c("cooking"),className:p("cooking"===d),children:"Cocinando"}),s.jsx("button",{onClick:()=>c("ready"),className:p("ready"===d),children:"Listas"})]}),s.jsx("div",{className:"grid gap-3",children:0===x.length?(0,s.jsxs)("div",{className:`text-center py-10 opacity-50 ${t.subtext}`,children:[s.jsx(C.Z,{size:40,className:"mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"No hay items en esta categor\xeda"})]}):x.map(e=>{let i=[...e.pedidosPendientes||[]].sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()).filter(e=>"entregado"!==e.estado).map(e=>e.invitado_nombre).join(", "),d=m(e);return(0,s.jsxs)("div",{className:`${t.card} rounded-3xl border relative overflow-hidden transition-all ${e.cocinando?"border-red-600/30 shadow-md":""} ${a?"p-3":"p-5"}`,children:[s.jsx("div",{className:"flex justify-between items-start mb-3 relative z-10",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[s.jsx("h3",{className:`font-bold leading-tight ${a?"text-base":"text-xl"}`,children:e.nombre}),e.cocinando&&(0,s.jsxs)("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold text-white whitespace-nowrap ${d.color}`,children:[d.textReady," (",e.enHorno,")"]}),e.cocinando&&e.cocinando_inicio&&s.jsx("div",{className:"scale-90 origin-left",children:s.jsx(I,{start:e.cocinando_inicio,duration:e.tiempo_coccion||60})}),e.enEspera>0&&(0,s.jsxs)("span",{className:"text-[10px] text-white px-2 py-0.5 rounded-full font-bold whitespace-nowrap bg-gray-500",children:["EN ESPERA (",e.enEspera,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs opacity-70",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 font-mono",children:[s.jsx(A.Z,{size:12})," Tot. Pend: ",e.totalPendientes]}),(0,s.jsxs)("span",{className:"flex items-center gap-1 font-mono",children:["Stock: ",e.stockRestante]})]}),i&&(0,s.jsxs)("div",{className:`text-[10px] mt-2 opacity-80 leading-tight ${t.text} font-medium ${a?"overflow-x-auto whitespace-nowrap no-scrollbar pb-1":"whitespace-normal break-words"}`,children:[s.jsx("span",{className:"opacity-50 uppercase mr-1 sticky left-0 font-bold",children:"Piden:"}),i]})]})}),(0,s.jsxs)("div",{className:`relative ${r?"bg-black":"bg-gray-300"} rounded-full overflow-hidden z-10 mb-4 ${a?"h-1.5":"h-2.5"}`,children:[s.jsx("div",{className:"absolute inset-0 flex justify-between px-[1px] z-20",children:[...Array(e.target)].map((e,t)=>s.jsx("div",{className:`w-[1px] h-full ${r?"bg-white/10":"bg-white/50"}`},t))}),s.jsx("div",{className:`absolute h-full ${e.cocinando?d.color:n.color} transition-all duration-700`,style:{width:`${e.percent}%`}})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[e.enEspera>0?(0,s.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>l(e,"una"),className:u,children:[d.icon," 1"]}),e.enEspera>1&&(0,s.jsxs)("button",{onClick:()=>l(e,"todas"),className:`flex-[1.5] ${d.color} text-white text-[10px] font-bold rounded-xl flex items-center justify-center gap-1 py-3 shadow-lg active:scale-95`,children:[d.icon," \xa1Todos!"]})]}):s.jsx("div",{className:`flex-1 text-center text-[10px] py-3 opacity-40 font-bold border rounded-xl border-dashed ${r?"border-neutral-700":"border-gray-300"}`,children:"Nada en espera"}),e.enHorno>0||e.enEspera>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-[1px] bg-gray-300 dark:bg-neutral-700 h-8 mx-1"}),(0,s.jsxs)("div",{className:"flex-[1.5] flex gap-2",children:[e.enHorno>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>o(e,"una",!1),className:u,children:[s.jsx(w,{size:14})," ",s.jsx("span",{children:"1 Listo"})]}),e.enHorno>1&&(0,s.jsxs)("button",{onClick:()=>o(e,"todas",!1),className:`flex-1 ${n.color} text-white text-[10px] font-bold rounded-xl flex flex-col leading-none items-center justify-center gap-1 py-2 shadow-lg active:scale-95`,children:[s.jsx(w,{size:14})," ",s.jsx("span",{children:"Todos"})]})]}):s.jsx("div",{className:"flex-1"}),e.enEspera>0&&s.jsx("button",{onClick:()=>o(e,"una",!0),className:"w-8 bg-yellow-500 text-black font-bold rounded-xl flex items-center justify-center shadow-lg active:scale-95",title:"Entregar directo (Emergencia)",children:s.jsx(Z,{size:14})})]})]}):null]})]},e.id)})})]})},R=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),L=(0,d.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),T=({pedidosAgrupados:e,base:t,isDarkMode:a,eliminarPedidosGusto:i,resetAllOrders:r,eliminarUnidad:n})=>(0,s.jsxs)("div",{className:"pb-24 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(R,{})," Pedidos por Usuario"]}),s.jsx("button",{onClick:r,className:"text-xs bg-red-600 text-white px-3 py-1.5 rounded-lg font-bold shadow-lg active:scale-95",children:"BORRAR TODO EL D\xcdA"})]}),0===e.length?s.jsx("div",{className:`p-8 rounded-3xl text-center border-2 border-dashed ${t.divider} opacity-50`,children:s.jsx("p",{children:"No hay pedidos activos."})}):e.map(e=>(0,s.jsxs)("div",{className:`p-4 rounded-2xl border ${t.card} shadow-sm animate-in fade-in slide-in-from-bottom-2`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3 border-b border-gray-200 dark:border-white/10 pb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-neutral-200 dark:bg-neutral-800 rounded-full",children:s.jsx(R,{size:16})}),s.jsx("h3",{className:"font-bold text-lg",children:e.nombre})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("span",{className:"text-xs font-bold opacity-60 block",children:"Total Pendiente"}),s.jsx("span",{className:"text-xl font-black",children:e.totalPendienteGeneral})]})]}),s.jsx("div",{className:"space-y-3",children:e.detalle.map(t=>(0,s.jsxs)("div",{className:`flex justify-between items-center p-2 rounded-xl ${a?"bg-black/20":"bg-gray-50"}`,children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"font-bold text-sm mb-1 flex items-center gap-2",children:[t.nombre,s.jsx("button",{onClick:()=>n(e.nombre,t.id),className:"p-1 rounded-full text-red-400 hover:bg-red-500/10 hover:text-red-600 transition-colors",title:"Eliminar 1 unidad",children:s.jsx(j.Z,{size:12,strokeWidth:3})})]}),(0,s.jsxs)("div",{className:"flex gap-2 text-[10px] font-bold uppercase tracking-wider",children:[t.entregada>0&&(0,s.jsxs)("span",{className:"text-green-500 flex items-center gap-1",children:[s.jsx(w,{size:10})," ",t.entregada," Listas"]}),t.enHorno>0&&(0,s.jsxs)("span",{className:"text-orange-500 flex items-center gap-1",children:[s.jsx(N.Z,{size:10})," ",t.enHorno," Horno"]}),t.enEspera>0&&(0,s.jsxs)("span",{className:"opacity-50 flex items-center gap-1",children:[s.jsx(A.Z,{size:10})," ",t.enEspera," Espera"]})]})]}),t.oldestPending&&s.jsx("div",{className:"text-[9px] opacity-40 font-mono text-right",children:new Date(t.oldestPending).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},t.id))}),s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 dark:border-white/5 flex justify-end",children:(0,s.jsxs)("button",{onClick:()=>i(e.nombre),className:`text-[10px] font-bold flex items-center gap-1 ${t.subtext} hover:text-red-500 transition-colors`,children:[s.jsx(L,{size:12})," Limpiar Pendientes"]})})]},e.nombre))]}),D=(0,d.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),V=(0,d.Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),G=(0,d.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),H=(0,d.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),B=(0,d.Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),F=(0,d.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),U=({base:e,currentTheme:t,ingredients:a,newIngName:r,setNewIngName:n,newIngQty:l,setNewIngQty:o,newIngUnit:d,setNewIngUnit:c,newIngCat:x,setNewIngCat:p,addIng:m,editingIngId:u,editIngForm:h,setEditIngForm:b,saveEditIng:g,cancelEditIng:f,delIng:w,startEditIng:N,reservedState:k,quickUpdateStock:z})=>{let[_,C]=(0,i.useState)("Todos"),[$,S]=(0,i.useState)(!1),P=e.bg.includes("neutral-950")?"text-neutral-500 hover:bg-neutral-700 hover:text-white":"text-gray-400 hover:bg-gray-200 hover:text-black",M=(0,i.useMemo)(()=>{let e=new Set;return a.forEach(t=>{t.categoria&&e.add(t.categoria.trim())}),["Todos","General",...Array.from(e).filter(e=>"General"!==e).sort()]},[a]),E=(0,i.useMemo)(()=>"Todos"===_?a:a.filter(e=>(e.categoria||"General")===_),[a,_]),A=()=>{if(0===E.length)return"Lista vac\xeda";let e=`*ðŸ›’ Lista de Compras (${_})*

`;return E.forEach(t=>{e+=`- ${t.nombre}: ${t.cantidad_disponible} ${t.unidad}
`}),e},Z=async()=>{let e=A();if(navigator.share)try{await navigator.share({title:"Lista de Compras - Vito App",text:e}),S(!1)}catch(e){console.log("Error sharing",e)}else alert("Tu dispositivo no soporta compartir nativo.")};return(0,s.jsxs)("div",{className:"space-y-6 relative",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center px-1",children:[s.jsx("h2",{className:"text-xl font-bold opacity-80",children:"Inventario"}),(0,s.jsxs)("button",{onClick:()=>S(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold ${t.color} text-white shadow-lg active:scale-95 transition-transform`,children:[s.jsx(D,{size:16})," Compartir"]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:M.map(a=>s.jsx("button",{onClick:()=>C(a),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${_===a?`${t.color} text-white border-transparent shadow-md`:e.buttonSec}`,children:a},a))}),(0,s.jsxs)("div",{className:`p-4 rounded-3xl border ${e.card} flex flex-col gap-3`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 opacity-50 uppercase text-[10px] font-bold tracking-wider",children:[s.jsx(V,{size:12})," Nuevo Ingrediente"]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"Nombre...",className:`flex-[2] p-3 rounded-xl outline-none border min-w-[120px] ${e.input}`}),s.jsx("input",{type:"text",value:x,onChange:e=>p(e.target.value),placeholder:"Categor\xeda",list:"cat-list",className:`flex-1 p-3 rounded-xl outline-none border min-w-[100px] ${e.input}`}),s.jsx("datalist",{id:"cat-list",children:M.map(e=>s.jsx("option",{value:e},e))}),s.jsx("input",{type:"number",value:l,onChange:e=>o(e.target.value),placeholder:"0",className:`w-16 p-3 rounded-xl outline-none border text-center ${e.input}`}),(0,s.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:`w-20 p-3 rounded-xl outline-none border bg-transparent ${e.input}`,children:[s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"u",children:"u"}),s.jsx("option",{value:"ml",children:"ml"}),s.jsx("option",{value:"L",children:"L"})]}),s.jsx("button",{onClick:m,className:`w-12 rounded-xl font-bold flex items-center justify-center ${t.color} text-white shadow-lg active:scale-95`,children:s.jsx(v.Z,{size:24})})]})]}),s.jsx("div",{className:"grid gap-3 grid-cols-2",children:E.map(a=>{let i=u===a.id,r=k[a.id]||0;return s.jsx("div",{className:`${e.card} rounded-3xl border relative group overflow-hidden flex flex-col justify-between transition-shadow hover:shadow-md`,children:i?(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[s.jsx("label",{className:"text-[10px] font-bold opacity-50 uppercase",children:"Editando"}),s.jsx("input",{type:"text",value:h.nombre,onChange:e=>b({...h,nombre:e.target.value}),className:`w-full p-2 rounded-lg border text-sm ${e.input}`,placeholder:"Nombre"}),s.jsx("input",{type:"text",value:h.categoria,onChange:e=>b({...h,categoria:e.target.value}),className:`w-full p-2 rounded-lg border text-sm ${e.input}`,placeholder:"Categor\xeda",list:"cat-list"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:h.cantidad,onChange:e=>b({...h,cantidad:e.target.value}),className:`w-full p-2 rounded-lg border text-sm ${e.input}`}),(0,s.jsxs)("select",{value:h.unidad,onChange:e=>b({...h,unidad:e.target.value}),className:`p-2 rounded-lg border text-sm bg-transparent ${e.input}`,children:[s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"u",children:"u"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-3",children:[s.jsx("button",{onClick:f,className:`flex-1 ${e.buttonSec} border p-2 rounded-lg flex items-center justify-center`,children:s.jsx(j.Z,{size:16})}),s.jsx("button",{onClick:()=>g(a.id),className:`flex-[2] ${t.color} text-white p-2 rounded-lg flex items-center justify-center shadow`,children:s.jsx(G,{size:16})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 pb-2 relative flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("div",{className:"min-w-0 pr-12",children:[s.jsx("h3",{className:"font-bold text-sm overflow-x-auto whitespace-nowrap no-scrollbar opacity-90",children:a.nombre}),s.jsx("p",{className:"text-[9px] opacity-50 uppercase font-bold",children:a.categoria||"General"})]}),(0,s.jsxs)("div",{className:"flex gap-1 opacity-30 group-hover:opacity-100 transition-opacity absolute right-2 top-2",children:[s.jsx("button",{onClick:()=>N(a),className:"hover:text-blue-500 transition-colors p-1",children:s.jsx(H,{size:14})}),s.jsx("button",{onClick:()=>w(a.id),className:"hover:text-red-500 transition-colors p-1",children:s.jsx(y,{size:14})})]})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1 mt-2",children:[s.jsx("span",{className:"text-xl font-black tracking-tight",children:a.cantidad_disponible}),s.jsx("span",{className:"text-xs font-bold opacity-40",children:a.unidad})]}),r>0&&(0,s.jsxs)("div",{className:"mt-2 text-[10px] text-orange-500 font-bold bg-orange-500/10 px-2 py-0.5 rounded-full inline-block",children:["Res: ",r.toFixed(1)," ",a.unidad]})]}),s.jsx("div",{className:"px-2 pb-2 pt-0",children:s.jsx("div",{className:"flex gap-1 justify-between",children:[1,5,10,100].map(e=>(0,s.jsxs)("button",{onClick:()=>z(a.id,a.cantidad_disponible,e),className:`flex-1 py-2 text-[10px] font-bold opacity-50 hover:opacity-100 rounded active:scale-95 transition-all ${P}`,children:["+",e]},e))})})]})},a.id)})}),$&&(0,s.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in p-4 pb-24 sm:pb-4",children:[s.jsx("div",{className:"absolute inset-0",onClick:()=>S(!1)}),(0,s.jsxs)("div",{className:`${e.card} w-full max-w-sm rounded-[32px] p-6 shadow-2xl relative border z-10 animate-in slide-in-from-bottom-10 duration-300`,children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-6 opacity-50"}),s.jsx("button",{onClick:()=>S(!1),className:"absolute top-6 right-6 opacity-50 hover:opacity-100 p-1",children:s.jsx(j.Z,{size:20})}),s.jsx("h3",{className:"text-xl font-bold mb-1 text-center",children:"Compartir Lista"}),(0,s.jsxs)("p",{className:"text-sm opacity-60 mb-6 text-center",children:["Enviando lista de: ",s.jsx("b",{children:_})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("button",{onClick:()=>{let e=A(),t=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(t,"_blank"),S(!1)},className:"w-full py-4 rounded-2xl flex items-center justify-center gap-3 font-bold bg-[#25D366] text-white shadow-lg active:scale-95 transition-transform hover:brightness-110",children:[s.jsx(B,{size:24})," Enviar por WhatsApp"]}),(0,s.jsxs)("button",{onClick:Z,className:`w-full py-4 rounded-2xl flex items-center justify-center gap-3 font-bold border ${e.buttonSec} active:scale-95 transition-transform`,children:[s.jsx(F,{size:24})," Otras Aplicaciones"]})]})]})]})]})},K=(0,d.Z)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),W=(0,d.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var J=a(5107),Q=a(9077),X=a(1709);let Y=(0,d.Z)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);var ee=a(6633);let et=(0,d.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ea=(0,d.Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),es=({value:e,onChange:t,isDarkMode:a})=>{let i=Math.floor(e/60),r=e%60,n=(e,a)=>{let s=i,n=r;"m"===e&&(s=Math.max(0,s+a)),"s"===e&&((n+=a)>=60&&(n-=60,s++),n<0&&(s>0?(n+=60,s--):n=0)),t(60*s+n)},l=a?"hover:bg-white/10 active:bg-white/20 text-white":"hover:bg-black/10 active:bg-black/20 text-black";return s.jsx("div",{className:"flex flex-col items-center w-full",children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-center gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("button",{onClick:()=>n("m",1),className:`${l} p-0.5 rounded`,children:s.jsx(ee.Z,{size:12})}),s.jsx("span",{className:"text-sm font-mono font-bold leading-none",children:i.toString().padStart(2,"0")}),s.jsx("button",{onClick:()=>n("m",-1),className:`${l} p-0.5 rounded`,children:s.jsx(et,{size:12})})]}),s.jsx("span",{className:"pb-1",children:":"}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("button",{onClick:()=>n("s",10),className:`${l} p-0.5 rounded`,children:s.jsx(ee.Z,{size:12})}),s.jsx("span",{className:"text-sm font-mono font-bold leading-none",children:r.toString().padStart(2,"0")}),s.jsx("button",{onClick:()=>n("s",-10),className:`${l} p-0.5 rounded`,children:s.jsx(et,{size:12})})]})]})})},ei=({className:e="w-6 h-6",strokeWidth:t=2})=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M3 15h18"}),s.jsx("path",{d:"M3 11h18"}),s.jsx("path",{d:"M5.5 8.5c.5-2.5 2.5-4.5 6.5-4.5s6 2 6.5 4.5"}),s.jsx("path",{d:"M6 19a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3"})]}),er=({base:e,config:t,setConfig:a,activeCategories:r,uniqueCategories:o,toggleCategory:d,currentTheme:c,addP:x,uploading:p,newPizzaName:m,setNewPizzaName:u,isDarkMode:h,handleImageUpload:b,newPizzaImg:g,newPizzaDesc:f,setNewPizzaDesc:w,newPizzaIngredients:N,removeFromNewPizzaRecipe:k,newPizzaSelectedIng:z,setNewPizzaSelectedIng:_,ingredients:C,newPizzaRecipeQty:$,setNewPizzaRecipeQty:S,addToNewPizzaRecipe:P,newPizzaCat:M,setNewPizzaCat:E,newPizzaPortions:A,setNewPizzaPortions:Z,stockEstimadoNueva:q,newPizzaTime:I,setNewPizzaTime:O,pizzas:R,edits:L,recetas:T,updateP:D,savePizzaChanges:V,cancelChanges:H,delP:B,tempRecipeIng:F,setTempRecipeIng:U,tempRecipeQty:er,setTempRecipeQty:en,addToExistingPizza:el,removeFromExistingPizza:eo,reservedState:ed,calcularStockDinamico:ec,updateLocalRecipe:ex,newPizzaType:ep,setNewPizzaType:em})=>{let[eu,eh]=(0,i.useState)({}),eb=e=>{eh(t=>({...t,[e]:!t[e]}))};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:`${e.card} p-5 rounded-3xl border flex flex-col gap-3 shadow-sm`,children:[s.jsx("label",{className:`text-xs font-bold uppercase tracking-wider opacity-60 ${e.subtext}`,children:"CATEGORIAS A MOSTRAR:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)("button",{onClick:async()=>{let e=r.includes("Todas");a({...t,categoria_activa:JSON.stringify(e?["General"]:["Todas"])})},className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold border transition-all ${r.includes("Todas")?"bg-neutral-800 text-white border-neutral-700":"bg-neutral-100 dark:bg-white/5 border-transparent text-gray-500"}`,children:[r.includes("Todas")?s.jsx(K,{size:14}):s.jsx(W,{size:14})," Todas"]}),o.map(e=>{let t=r.includes(e);return(0,s.jsxs)("button",{onClick:()=>d(e),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold border transition-all ${t?"bg-neutral-800 text-white border-neutral-700":"bg-neutral-100 dark:bg-white/5 border-transparent text-gray-500"}`,children:[t?s.jsx(K,{size:14}):s.jsx(W,{size:14})," ",e]},e)})]})]}),(0,s.jsxs)("div",{className:`p-5 rounded-3xl border shadow-sm relative overflow-hidden group ${e.card}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("h3",{className:`font-bold flex items-center gap-2 text-xl ${e.subtext}`,children:[s.jsx(v.Z,{size:24})," Nuevo Item"]}),(0,s.jsxs)("div",{className:"flex bg-neutral-100 dark:bg-black/30 rounded-xl p-1 border border-neutral-200 dark:border-white/10",children:[s.jsx("button",{onClick:()=>{em("pizza"),Z(4),E("Pizzas")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${"pizza"===ep?"bg-white dark:bg-neutral-800 shadow text-black dark:text-white":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(J.Z,{size:14})}),s.jsx("button",{onClick:()=>{em("burger"),Z(1),E("Hamburguesas")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${"burger"===ep?"bg-white dark:bg-neutral-800 shadow text-black dark:text-white":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(ei,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{em("other"),Z(1),E("")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${"other"===ep?"bg-white dark:bg-neutral-800 shadow text-black dark:text-white":"text-gray-400 hover:text-gray-600"}`,children:s.jsx(Q.Z,{size:14})})]}),s.jsx("button",{onClick:x,disabled:p,className:`${c.color} text-white font-bold px-6 py-2 rounded-xl shadow-lg active:scale-95 transition-all text-sm`,children:"CREAR"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[s.jsx("input",{className:`w-full text-2xl font-bold bg-transparent outline-none placeholder-opacity-30 ${h?"placeholder-white":"placeholder-black"}`,placeholder:"Nombre del plato...",value:m,onChange:e=>u(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:`flex-shrink-0 cursor-pointer w-24 h-24 rounded-2xl overflow-hidden border-2 border-dashed ${e.uploadBox} flex items-center justify-center transition-colors group relative`,children:[g?s.jsx("img",{src:g,className:"w-full h-full object-cover"}):s.jsx(X.Z,{size:24,className:"opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 hidden group-hover:flex items-center justify-center text-white",children:s.jsx(Y,{size:20})}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>b(e),disabled:p})]}),s.jsx("textarea",{className:`flex-1 p-0 bg-transparent text-sm leading-relaxed outline-none resize-none h-24 placeholder-opacity-40 ${h?"placeholder-white":"placeholder-black"}`,placeholder:"Descripci\xf3n...",value:f,onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-3 rounded-2xl`,children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:N.map((e,t)=>(0,s.jsxs)("span",{className:"text-xs bg-white shadow-sm dark:bg-white/10 px-3 py-1.5 rounded-lg flex items-center gap-2 font-bold text-black dark:text-white",children:[e.nombre," ",s.jsx("span",{className:"opacity-50 text-[10px]",children:e.cantidad})," ",s.jsx("button",{onClick:()=>k(t),children:s.jsx(j.Z,{size:12})})]},t))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{className:"flex-1 w-0 min-w-0 p-2 text-sm rounded-xl font-bold outline-none bg-white dark:bg-black/20 text-black dark:text-white",value:z,onChange:e=>_(e.target.value),children:[s.jsx("option",{value:"",children:"+ Ingrediente"}),C.map(e=>(0,s.jsxs)("option",{value:`${e.id}|${e.nombre}`,children:[e.nombre," (Disp: ",e.cantidad_disponible,")"]},e.id))]}),s.jsx("input",{type:"number",className:"w-14 p-2 text-sm rounded-xl text-center font-bold outline-none bg-white dark:bg-black/20 text-black dark:text-white",value:$,onChange:e=>S(Number(e.target.value)||""),placeholder:"Cant"}),s.jsx("button",{onClick:P,className:"bg-neutral-800 dark:bg-white text-white dark:text-black px-4 rounded-xl text-sm font-bold shadow-sm flex-shrink-0",children:"OK"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-2",children:[(0,s.jsxs)("div",{className:`${e.innerCard} p-3 rounded-2xl flex flex-col items-center justify-center text-center`,children:[s.jsx("span",{className:"text-[10px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Categoria"}),s.jsx("input",{list:"categories",className:"w-full text-center font-bold bg-transparent outline-none text-sm",value:M,onChange:e=>E(e.target.value),placeholder:"other"===ep?"Ej: Bebidas":""}),s.jsx("datalist",{id:"categories",children:o.map(e=>s.jsx("option",{value:e},e))})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-3 rounded-2xl flex flex-col items-center justify-center text-center ${"burger"===ep?"opacity-50":""}`,children:[s.jsx("span",{className:"text-[10px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Porciones"}),s.jsx("input",{type:"number",disabled:"burger"===ep,className:"w-full text-center font-bold bg-transparent outline-none text-sm",value:A,onChange:e=>Z(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-3 rounded-2xl flex flex-col items-center justify-center text-center`,children:[s.jsx("span",{className:"text-[10px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Stock Est."}),s.jsx("span",{className:"text-xl font-bold",children:q})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-3 rounded-2xl flex flex-col items-center justify-center text-center`,children:[s.jsx("span",{className:"text-[10px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Timer"}),s.jsx(es,{value:I,onChange:O,isDarkMode:h})]})]})]})]}),s.jsx("div",{className:"space-y-3",children:R.map(t=>{let a=!!L[t.id],i=eu[t.id],r={...t,...L[t.id]},o=L[t.id]?.local_recipe?L[t.id].local_recipe:T.filter(e=>e.pizza_id===t.id).map(e=>({...e,nombre:C.find(t=>t.id===e.ingrediente_id)?.nombre||"?"})),d=ec(o,C),x=r.tipo||"pizza";return(0,s.jsxs)("div",{className:`p-4 rounded-3xl border flex flex-col relative overflow-hidden transition-all ${e.card} ${a?"border-yellow-500/50":""}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 mr-2",children:[s.jsx("button",{onClick:()=>eb(t.id),className:`p-1.5 rounded-lg ${e.buttonSec}`,children:i?s.jsx(ee.Z,{size:18}):s.jsx(et,{size:18})}),"burger"===x?s.jsx(ei,{className:"text-orange-500 w-5 h-5 flex-shrink-0"}):"other"===x?s.jsx(Q.Z,{size:20,className:"text-blue-500 flex-shrink-0"}):s.jsx(J.Z,{size:20,className:"text-red-500 flex-shrink-0"}),s.jsx("input",{value:r.nombre,onChange:e=>D(t.id,"nombre",e.target.value),className:"bg-transparent font-bold text-lg outline-none w-full border-b border-transparent focus:border-white/20 pb-1 truncate"})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[a&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>V(t.id),className:`p-2 ${c.color} text-white rounded-xl animate-pulse shadow-lg hover:scale-105 transition-transform`,title:"Guardar",children:s.jsx(G,{size:16})}),s.jsx("button",{onClick:()=>H(t.id),className:"p-2 bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 rounded-xl shadow-sm hover:scale-105 transition-transform",title:"Cancelar",children:s.jsx(j.Z,{size:16})})]}),!a&&s.jsx("button",{onClick:()=>D(t.id,"activa",!t.activa),className:`p-2 rounded-xl transition-colors ${t.activa?"bg-white/10 hover:bg-white/20":"bg-black/50 text-neutral-500"}`,children:t.activa?s.jsx(l.Z,{size:16}):s.jsx(n.Z,{size:16})}),!a&&s.jsx("button",{onClick:()=>B(t.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-xl transition-colors",children:s.jsx(y,{size:16})})]})]}),i&&(0,s.jsxs)("div",{className:"flex flex-col gap-4 mt-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"cursor-pointer relative w-20 h-20 rounded-xl overflow-hidden bg-neutral-900 group flex-shrink-0 shadow-inner",children:[r.imagen_url?s.jsx("img",{src:r.imagen_url,className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full text-neutral-600",children:s.jsx(X.Z,{size:20})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 hidden group-hover:flex items-center justify-center text-white",children:s.jsx(Y,{size:16})}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>b(e,t.id)})]}),s.jsx("textarea",{value:r.descripcion||"",onChange:e=>D(t.id,"descripcion",e.target.value),className:`flex-1 p-0 bg-transparent text-sm leading-relaxed outline-none resize-none h-20 opacity-80 placeholder-opacity-30 ${h?"placeholder-white":"placeholder-black"}`,placeholder:"Descripci\xf3n..."})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-3 rounded-2xl`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase opacity-50 tracking-wider",children:"Receta"}),(0,s.jsxs)("span",{className:"text-[10px] font-bold bg-black/20 px-2 py-0.5 rounded-full",children:[o.length," Ingredientes"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:o.map((e,a)=>(0,s.jsxs)("span",{className:"text-xs bg-white dark:bg-white/10 px-2 py-1 rounded-lg flex items-center gap-1 border border-black/5 dark:border-white/5 font-medium text-black dark:text-white",children:[e.nombre,": ",e.cantidad_requerida,s.jsx("button",{onClick:()=>eo(t.id,a,o),className:"text-red-400 hover:text-red-300 ml-1",children:s.jsx(j.Z,{size:12})})]},a))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{className:"flex-1 w-0 min-w-0 p-1.5 text-xs rounded-lg font-bold outline-none bg-white dark:bg-black/20 text-black dark:text-white",value:F[t.id]||"",onChange:e=>U({...F,[t.id]:e.target.value}),children:[s.jsx("option",{value:"",children:"+ Ingrediente"}),C.map(e=>(0,s.jsxs)("option",{value:`${e.id}|${e.nombre}`,children:[e.nombre," (Disp: ",Math.max(0,e.cantidad_disponible-(ed[e.id]||0)),")"]},e.id))]}),s.jsx("input",{type:"number",placeholder:"Cant",className:"w-12 p-1.5 text-xs rounded-lg text-center font-bold outline-none bg-white dark:bg-black/20 text-black dark:text-white",value:er[t.id]||"",onChange:e=>en({...er,[t.id]:Number(e.target.value)||""})}),s.jsx("button",{onClick:()=>{if(!F[t.id])return;let[e,a]=F[t.id].split("|");el(t.id,e,a,er[t.id]||0,o),U({...F,[t.id]:""}),en({...er,[t.id]:""})},className:"bg-neutral-800 dark:bg-white text-white dark:text-black px-3 rounded-lg text-xs font-bold flex-shrink-0",children:"OK"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,s.jsxs)("div",{className:`${e.innerCard} p-2 rounded-2xl flex flex-col items-center justify-center text-center`,children:[s.jsx("span",{className:"text-[9px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Tipo & Cat."}),(0,s.jsxs)("div",{className:"flex gap-1 bg-black/10 dark:bg-white/5 p-1 rounded-lg mb-1",children:[s.jsx("button",{onClick:()=>{D(t.id,"tipo","pizza"),D(t.id,"categoria","Pizzas"),D(t.id,"porciones_individuales",4)},className:`p-1.5 rounded-md transition-all ${"pizza"===x?"bg-white dark:bg-neutral-700 text-red-500 shadow":"text-gray-400 hover:text-gray-500"}`,title:"Pizza",children:s.jsx(J.Z,{size:16})}),s.jsx("button",{onClick:()=>{D(t.id,"tipo","burger"),D(t.id,"categoria","Hamburguesas"),D(t.id,"porciones_individuales",1)},className:`p-1.5 rounded-md transition-all ${"burger"===x?"bg-white dark:bg-neutral-700 text-orange-500 shadow":"text-gray-400 hover:text-gray-500"}`,title:"Burger",children:s.jsx(ei,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{D(t.id,"tipo","other")},className:`p-1.5 rounded-md transition-all ${"other"===x?"bg-white dark:bg-neutral-700 text-blue-500 shadow":"text-gray-400 hover:text-gray-500"}`,title:"Otro",children:s.jsx(Q.Z,{size:16})})]}),s.jsx("input",{list:"categories",value:r.categoria||"",onChange:e=>D(t.id,"categoria",e.target.value),className:"w-full text-center bg-transparent outline-none text-[10px] font-bold opacity-80",placeholder:"Categor\xeda..."})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-2 rounded-2xl flex flex-col items-center justify-center text-center ${"burger"===x?"opacity-50":""}`,children:[s.jsx("span",{className:"text-[9px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Porciones"}),s.jsx("input",{type:"number",disabled:"burger"===x,value:r.porciones_individuales||"",onChange:e=>D(t.id,"porciones_individuales",e.target.value?parseInt(e.target.value):null),className:"w-full text-center bg-transparent outline-none text-sm font-bold"})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-2 rounded-2xl flex flex-col items-center justify-center relative overflow-hidden text-center`,children:[s.jsx("span",{className:"text-[9px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Stock"}),o.length>0?(0,s.jsxs)("div",{className:"flex items-center gap-1 font-bold text-xl",children:[s.jsx(ea,{size:14,className:"opacity-30"})," ",d]}):s.jsx("input",{type:"number",value:r.stock||0,onChange:e=>D(t.id,"stock",parseInt(e.target.value)),className:"w-full text-center bg-transparent outline-none text-sm font-bold"})]}),(0,s.jsxs)("div",{className:`${e.innerCard} p-2 rounded-2xl flex flex-col items-center justify-center text-center`,children:[s.jsx("span",{className:"text-[9px] uppercase font-bold opacity-50 tracking-wider mb-1",children:"Timer"}),s.jsx(es,{value:r.tiempo_coccion||60,onChange:e=>D(t.id,"tiempo_coccion",e),isDarkMode:h})]})]})]})]},t.id)})})]})};var en=a(3734);let el=({base:e,delAllVal:t,ranking:a,delValPizza:i})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:`p-6 rounded-3xl ${e.card} mb-6 shadow-sm flex justify-between items-center`,children:[s.jsx("h3",{className:`font-bold uppercase tracking-widest text-sm ${e.textHead}`,children:"Ranking & Feedback"}),s.jsx("button",{onClick:t,className:"text-[10px] bg-red-900/30 text-red-500 px-3 py-1 rounded-full border border-red-900/50 hover:bg-red-900/50 transition-colors",children:"RESET ALL"})]}),s.jsx("div",{className:"grid gap-3",children:a.map(t=>(0,s.jsxs)("div",{className:`p-3 rounded-2xl border flex justify-between items-center ${e.card}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-center w-12",children:[(0,s.jsxs)("div",{className:"text-xl font-bold text-yellow-500 flex justify-center items-center gap-0.5",children:[t.avg," ",s.jsx(en.Z,{size:12,fill:"currentColor"})]}),(0,s.jsxs)("div",{className:`text-[9px] ${e.subtext}`,children:[t.count," votes"]})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"font-bold text-sm",children:t.nombre}),(0,s.jsxs)("div",{className:`text-[10px] ${e.subtext}`,children:[t.totalOrders," porciones"]})]})]}),s.jsx("button",{onClick:()=>i(t.id),className:"p-2 text-neutral-500 hover:text-red-500 transition-colors",title:"Reset item",children:s.jsx(L,{size:16})})]},t.id))})]});var eo=a(9015);let ed=(0,d.Z)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var ec=a(165);let ex=({base:e,newGuestName:t,setNewGuestName:a,addU:i,allUsersList:r,resetU:n,toggleB:l,eliminarUsuario:o,tempMotivos:d,setTempMotivos:c,guardarMotivo:x,currentTheme:p,resetAllOrders:m})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:`p-4 rounded-3xl border ${e.card}`,children:[s.jsx("h3",{className:"text-sm font-bold mb-3 uppercase opacity-70",children:"Nuevo Invitado"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Nombre...",className:`flex-1 min-w-0 p-3 rounded-xl outline-none border ${e.input}`}),s.jsx("button",{onClick:i,className:`w-12 h-12 flex-shrink-0 rounded-xl font-bold flex items-center justify-center ${p.color} text-white shadow-lg active:scale-95`,children:s.jsx(v.Z,{size:24})})]})]}),s.jsx("div",{className:"grid gap-3",children:r.map(t=>(0,s.jsxs)("div",{className:`${e.card} rounded-2xl p-3 border flex items-center gap-3 ${t.bloqueado?e.blocked:""}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center font-bold text-white ${t.bloqueado?"bg-red-500":"bg-gray-400"}`,children:t.nombre.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold truncate",children:t.nombre}),"web"===t.origen&&s.jsx("span",{className:"text-[8px] bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:"WEB"}),t.bloqueado&&s.jsx("span",{className:"text-[8px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:"BLOQ"})]}),s.jsx("p",{className:"text-[10px] opacity-50 flex items-center gap-1",children:t.totalOrders>0?`${t.totalOrders} pedidos`:"Sin pedidos"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[s.jsx("button",{onClick:()=>l(t),className:`p-2 rounded-lg ${t.bloqueado?"bg-red-500 text-white":e.buttonSec}`,children:t.bloqueado?s.jsx(eo.Z,{size:14}):s.jsx(ed,{size:14})}),t.bloqueado&&s.jsx("input",{type:"text",placeholder:"Motivo...",defaultValue:t.motivo_bloqueo||"",onBlur:e=>{let a=e.target.value;c({...d,[t.nombre]:a}),x(t.nombre,t)},className:"w-20 text-[10px] p-1 border rounded bg-white text-black"})]}),s.jsx("button",{onClick:()=>n(t.nombre),className:"p-2 rounded-lg text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:s.jsx(L,{size:16})}),s.jsx("button",{onClick:()=>o(t.nombre,t),className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:s.jsx(y,{size:16})})]})]},t.nombre))}),(0,s.jsxs)("div",{className:"p-4 rounded-3xl border border-red-500/30 bg-red-500/5 mt-8",children:[(0,s.jsxs)("h3",{className:"text-red-500 font-bold text-xs uppercase mb-2 flex items-center gap-2",children:[s.jsx(ec.Z,{size:14})," Zona de Peligro"]}),(0,s.jsxs)("button",{onClick:m,className:"w-full py-3 bg-red-500 text-white font-bold rounded-xl shadow-lg active:scale-95 flex items-center justify-center gap-2",children:[s.jsx(y,{size:18})," BORRAR TODOS LOS PEDIDOS"]}),s.jsx("p",{className:"text-[10px] text-red-400 text-center mt-2 opacity-70",children:"Esto eliminar\xe1 el historial de pedidos de todos los usuarios."})]})]}),ep=(0,d.Z)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),em=(0,r.eI)("https://cutlcftpuiceogkkprtk.supabase.co","sb_publishable_zKg1ud99ikKeNNaLWb-sKw_hFkt9y3n"),eu=({base:e,config:t,setConfig:a,isDarkMode:i,resetAllOrders:r,newPass:n,setNewPass:l,confirmPass:d,setConfirmPass:c,changePass:x,currentTheme:p,sessionDuration:m,setSessionDuration:u})=>{let h=e=>{if(u(e),localStorage.getItem("vito-admin-session")){let t=Date.now()+e;localStorage.setItem("vito-admin-session",JSON.stringify({expiry:t}))}};return(0,s.jsxs)("div",{className:"space-y-6 animate-in fade-in pb-20",children:[(0,s.jsxs)("div",{className:`p-5 rounded-3xl border ${e.card}`,children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[s.jsx(F,{size:20})," Mensaje de Bienvenida"]}),s.jsx("p",{className:`text-xs mb-3 ${e.subtext}`,children:"Usa [nombre], [fecha], [hora], [pizzas] como variables."}),s.jsx("textarea",{className:`w-full p-4 rounded-xl border outline-none min-h-[100px] text-sm ${e.input}`,value:t.mensaje_bienvenida||"",onChange:e=>a({...t,mensaje_bienvenida:e.target.value}),placeholder:"Ej: Hola [nombre], hoy hay [pizzas] variedades..."}),s.jsx("button",{onClick:async()=>{await em.from("configuracion_dia").update({mensaje_bienvenida:t.mensaje_bienvenida}).eq("id",t.id),alert("Mensaje guardado")},className:`mt-3 w-full py-3 rounded-xl font-bold text-sm ${p.color} text-white shadow-lg`,children:"GUARDAR MENSAJE"})]}),(0,s.jsxs)("div",{className:`p-5 rounded-3xl border ${e.card}`,children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[s.jsx(o.Z,{size:20})," Acceso Invitados"]}),s.jsx("p",{className:`text-xs mb-3 ${e.subtext}`,children:"Si dejas esto vac\xedo, cualquiera podr\xe1 entrar sin clave."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:`flex-1 flex items-center px-4 rounded-xl border ${e.input}`,children:[s.jsx(ep,{size:18,className:e.subtext}),s.jsx("input",{type:"text",className:"w-full bg-transparent outline-none p-3 ml-2",value:t.password_invitados||"",onChange:e=>a({...t,password_invitados:e.target.value}),placeholder:"Sin contrase\xf1a..."})]}),s.jsx("button",{onClick:async()=>{await em.from("configuracion_dia").update({password_invitados:t.password_invitados}).eq("id",t.id),alert("Contrase\xf1a de invitados actualizada")},className:`px-6 rounded-xl font-bold text-sm ${p.color} text-white shadow-lg`,children:s.jsx(G,{size:20})})]})]}),(0,s.jsxs)("div",{className:`p-5 rounded-3xl border ${e.card}`,children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[s.jsx(eo.Z,{size:20})," Seguridad Admin"]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:`text-xs font-bold uppercase tracking-wider block mb-2 ${e.subtext}`,children:"Mantener sesi\xf3n abierta por:"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"1 Hora",value:36e5},{label:"8 Horas",value:288e5},{label:"24 Horas",value:864e5},{label:"3 D\xedas",value:2592e5},{label:"1 Semana",value:6048e5},{label:"30 D\xedas",value:2592e6}].map(t=>s.jsx("button",{onClick:()=>h(t.value),className:`py-2 px-1 rounded-xl text-xs font-bold border transition-all ${m===t.value?`${p.color} text-white border-transparent`:`${e.buttonSec}`}`,children:t.label},t.label))})]}),s.jsx("div",{className:`h-[1px] w-full ${e.divider} my-4`}),s.jsx("label",{className:`text-xs font-bold uppercase tracking-wider block mb-2 ${e.subtext}`,children:"Cambiar Contrase\xf1a Admin"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{type:"password",value:n,onChange:e=>l(e.target.value),className:`w-full p-3 rounded-xl border outline-none ${e.input}`,placeholder:"Nueva contrase\xf1a"}),s.jsx("input",{type:"password",value:d,onChange:e=>c(e.target.value),className:`w-full p-3 rounded-xl border outline-none ${e.input}`,placeholder:"Confirmar contrase\xf1a"}),s.jsx("button",{onClick:x,disabled:!n||n!==d,className:`w-full py-3 rounded-xl font-bold text-sm transition-all ${n&&n===d?"bg-black dark:bg-white text-white dark:text-black":"bg-gray-200 dark:bg-gray-800 text-gray-400"}`,children:"ACTUALIZAR PASS"})]})]}),(0,s.jsxs)("div",{className:"p-5 rounded-3xl border border-red-500/20 bg-red-500/5",children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-4 text-red-500 flex items-center gap-2",children:[s.jsx(y,{size:20})," Zona de Peligro"]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-bold text-sm ${e.text}`,children:"Resetear Pedidos"}),s.jsx("p",{className:`text-[10px] ${e.subtext}`,children:"Borra todos los pedidos pero mantiene el men\xfa."})]}),s.jsx("button",{onClick:r,className:"bg-red-500 text-white p-2 rounded-xl",children:s.jsx(L,{size:20})})]})]})]})},eh=(0,d.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),eb=(0,d.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var eg=a(2933);let ef=(0,d.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),ej=(0,d.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ev=(0,d.Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ey=({base:e,logs:t,isDarkMode:a,currentTheme:r,updateLogName:n,onRefresh:l})=>{let[o,d]=(0,i.useState)(null),[c,x]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1),u=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),h=e=>{d(e.id),x(e.invitado_nombre||"")},b=()=>{d(null),x("")},g=e=>{n(e,c),d(null)},f=async()=>{l&&(m(!0),await l(),setTimeout(()=>m(!1),800))};return(0,s.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,s.jsxs)("div",{className:`p-4 rounded-3xl border ${e.card} flex justify-between items-center`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-xl ${r.color} text-white shadow-lg`,children:s.jsx(P,{size:24})}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-bold leading-none",children:"Registro de Accesos"}),(0,s.jsxs)("p",{className:`text-xs ${e.subtext} mt-1`,children:["Total visitas hoy: ",t.length]})]})]}),s.jsx("button",{onClick:f,className:`p-3 rounded-xl border transition-all active:scale-95 ${e.buttonSec} ${p?"animate-spin":""}`,title:"Actualizar lista",children:s.jsx(eh,{size:20})})]}),s.jsx("div",{className:"space-y-2",children:0===t.length?s.jsx("div",{className:`text-center py-10 opacity-50 ${e.subtext}`,children:"No hay registros a\xfan..."}):t.map(t=>(0,s.jsxs)("div",{className:`p-4 rounded-2xl border flex flex-col gap-2 relative overflow-hidden ${e.card} ${t.invitado_nombre?"":"opacity-70"}`,children:[s.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${t.invitado_nombre?"bg-green-500":"bg-gray-300"}`}),(0,s.jsxs)("div",{className:"flex justify-between items-start pl-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[t.device?.toLowerCase().includes("mobile")||t.device?.toLowerCase().includes("iphone")||t.device?.toLowerCase().includes("android")?s.jsx(F,{size:18,className:"text-blue-500 flex-shrink-0"}):s.jsx(eb,{size:18,className:"text-purple-500 flex-shrink-0"}),o===t.id?(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full max-w-[200px]",children:[s.jsx("input",{type:"text",value:c,onChange:e=>x(e.target.value),className:`text-sm px-2 py-1 rounded border outline-none w-full ${e.input}`,placeholder:"Nombre...",autoFocus:!0}),s.jsx("button",{onClick:()=>g(t.id),className:"p-1 text-green-500 hover:bg-green-500/10 rounded",children:s.jsx(eg.Z,{size:14})}),s.jsx("button",{onClick:b,className:"p-1 text-red-500 hover:bg-red-500/10 rounded",children:s.jsx(j.Z,{size:14})})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2 group",children:[s.jsx("span",{className:`font-bold text-sm ${t.invitado_nombre?e.text:e.subtext}`,children:t.invitado_nombre||"Visitante An\xf3nimo"}),s.jsx("button",{onClick:()=>h(t),className:`opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-black/5 dark:hover:bg-white/10 rounded ${e.subtext}`,children:s.jsx(ef,{size:10})}),t.is_manual_edit&&s.jsx("span",{className:"text-[9px] bg-amber-500/10 text-amber-500 px-1.5 py-0.5 rounded border border-amber-500/20 font-bold",children:"EDITADO"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-[10px] font-mono opacity-60 ml-2 whitespace-nowrap",children:[s.jsx(A.Z,{size:10})," ",u(t.created_at)]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 pl-2 mt-1",children:[(0,s.jsxs)("div",{className:`flex items-center gap-1.5 text-[10px] ${e.subtext}`,children:[s.jsx(ej,{size:12})," ",t.ip||"IP Oculta"]}),(0,s.jsxs)("div",{className:`flex items-center gap-1.5 text-[10px] ${e.subtext}`,children:[s.jsx(ev,{size:12})," ",t.ciudad?`${t.ciudad}, ${t.pais}`:"Ubicaci\xf3n desc."]}),(0,s.jsxs)("div",{className:"col-span-2 text-[10px] opacity-50 truncate font-mono bg-black/5 dark:bg-white/5 p-1 rounded",children:[t.device," - ",t.browser]})]})]},t.id))})]})},ew=(0,r.eI)("https://cutlcftpuiceogkkprtk.supabase.co","sb_publishable_zKg1ud99ikKeNNaLWb-sKw_hFkt9y3n"),eN=async e=>new Promise((t,a)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=e=>{let s=new Image;s.src=e.target?.result,s.onload=()=>{let e=document.createElement("canvas"),i=s.width,r=s.height;i>r?i>1600&&(r*=1600/i,i=1600):r>1600&&(i*=1600/r,r=1600),e.width=i,e.height=r;let n=e.getContext("2d");n?.drawImage(s,0,0,i,r),e.toBlob(e=>{e?t(e):a(Error("Canvas error"))},"image/jpeg",.8)}},s.onerror=e=>a(e)}),ek=(e,t)=>{if(!e||0===e.length)return 0;let a=1/0;return e.forEach(e=>{let s=t.find(t=>t.id===e.ingrediente_id);if(s){let t=Number(e.cantidad||e.cantidad_requerida||0);if(t>0){let e=Math.floor(s.cantidad_disponible/t);e<a&&(a=e)}}else a=0}),a===1/0?0:a},ez=[{name:"Carbone",color:"bg-neutral-600",gradient:"from-neutral-700 to-neutral-900",text:"text-neutral-400"},{name:"Turquesa",color:"bg-cyan-600",gradient:"from-cyan-600 to-teal-900",text:"text-cyan-400"},{name:"Pistacho",color:"bg-lime-600",gradient:"from-lime-600 to-green-900",text:"text-lime-400"},{name:"Fuego",color:"bg-red-600",gradient:"from-red-600 to-rose-900",text:"text-red-500"},{name:"Violeta",color:"bg-violet-600",gradient:"from-violet-600 to-purple-900",text:"text-violet-400"},{name:"Insta",color:"bg-pink-600",gradient:"from-purple-600 via-pink-600 to-orange-500",text:"text-pink-500"},{name:"Aurora",color:"bg-indigo-600",gradient:"from-blue-500 via-indigo-500 to-purple-500",text:"text-indigo-400"},{name:"Sunset",color:"bg-orange-500",gradient:"from-rose-500 via-orange-500 to-yellow-500",text:"text-orange-500"},{name:"Oceanic",color:"bg-cyan-600",gradient:"from-cyan-500 via-blue-600 to-indigo-600",text:"text-cyan-500"},{name:"Berry",color:"bg-fuchsia-600",gradient:"from-fuchsia-600 via-purple-600 to-pink-600",text:"text-fuchsia-500"}];function e_(){let[e,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(""),[d,E]=(0,i.useState)(!1),[A,Z]=(0,i.useState)("cocina"),[q,I]=(0,i.useState)(864e5),[R,L]=(0,i.useState)([]),[D,V]=(0,i.useState)([]),[G,H]=(0,i.useState)([]),[B,F]=(0,i.useState)([]),[K,W]=(0,i.useState)({}),[J,Q]=(0,i.useState)([]),[X,Y]=(0,i.useState)({}),[ee,et]=(0,i.useState)([]),[ea,es]=(0,i.useState)([]),[ei,en]=(0,i.useState)({porciones_por_pizza:4,total_invitados:10,password_invitados:"",categoria_activa:'["General"]',mensaje_bienvenida:"",tiempo_recordatorio_minutos:10}),[eo,ed]=(0,i.useState)(0),[ec,ep]=(0,i.useState)(0),[em,eh]=(0,i.useState)([]),[eb,eg]=(0,i.useState)(!1),ef=(0,i.useRef)(0),[ej,ev]=(0,i.useState)(""),[e_,eC]=(0,i.useState)(""),[e$,eS]=(0,i.useState)(""),[eP,eM]=(0,i.useState)(90),[eE,eA]=(0,i.useState)(""),[eZ,eq]=(0,i.useState)(4),[eI,eO]=(0,i.useState)("pizza"),[eR,eL]=(0,i.useState)(!1),[eT,eD]=(0,i.useState)([]),[eV,eG]=(0,i.useState)(""),[eH,eB]=(0,i.useState)(""),[eF,eU]=(0,i.useState)(!1),[eK,eW]=(0,i.useState)("SET"),[eJ,eQ]=(0,i.useState)(""),[eX,eY]=(0,i.useState)(""),[e0,e1]=(0,i.useState)([]),[e2,e5]=(0,i.useState)(""),[e3,e4]=(0,i.useState)(""),[e6,e8]=(0,i.useState)("g"),[e7,e9]=(0,i.useState)("General"),[te,tt]=(0,i.useState)(null),[ta,ts]=(0,i.useState)({nombre:"",cantidad:0,unidad:"g",categoria:"General"}),[ti,tr]=(0,i.useState)({}),[tn,tl]=(0,i.useState)({}),[to,td]=(0,i.useState)(""),[tc,tx]=(0,i.useState)(""),[tp,tm]=(0,i.useState)(""),[tu,th]=(0,i.useState)({}),[tb,tg]=(0,i.useState)(ez[0]),[tf,tj]=(0,i.useState)(!1),[tv,ty]=(0,i.useState)("estado"),[tw,tN]=(0,i.useState)(!1),[tk,tz]=(0,i.useState)(!0),t_=tk?{bg:"bg-neutral-950 text-white",card:"bg-neutral-900 border-neutral-800",input:"bg-black border-neutral-700 text-white placeholder-neutral-600",header:"bg-neutral-900/90 border-neutral-800",subtext:"text-neutral-500",textHead:"text-neutral-300",buttonSec:"bg-neutral-800 text-neutral-400 hover:text-white border-white/10",buttonIcon:"bg-neutral-800 text-neutral-400 hover:text-white",divider:"border-neutral-800",metric:"bg-neutral-900 border-neutral-800",blocked:"bg-red-900/10 border-red-900/30",bar:"bg-neutral-900/50 backdrop-blur-md border-white/10 shadow-lg text-white border",innerCard:"bg-neutral-800 border-neutral-700 text-white",uploadBox:"bg-neutral-800 border-neutral-600 hover:bg-neutral-700"}:{bg:"bg-gray-100 text-gray-900",card:"bg-white border-gray-200 shadow-sm",input:"bg-white border-gray-300 text-gray-900 placeholder-gray-400",header:"bg-white/90 border-gray-200",subtext:"text-gray-500",textHead:"text-gray-800",buttonSec:"bg-white text-gray-600 hover:text-black border-gray-300",buttonIcon:"bg-gray-200 text-gray-600 hover:text-black",divider:"border-gray-200",metric:"bg-white border-gray-200 shadow-sm",blocked:"bg-red-50 border-red-200",bar:"bg-white/50 backdrop-blur-md border-gray-300 shadow-lg text-gray-900 border",innerCard:"bg-neutral-100 border-neutral-200 text-gray-900",uploadBox:"bg-neutral-100 border-neutral-300 hover:bg-neutral-200"},tC=(0,i.useMemo)(()=>ek(eT,G),[eT,G]),t$=(0,i.useMemo)(()=>{try{let e=JSON.parse(ei.categoria_activa);if("Todas"===e||Array.isArray(e)&&0===e.length)return[];return Array.isArray(e)?e:["General"]}catch{return["General"]}},[ei.categoria_activa]),tS=(0,i.useMemo)(()=>{let e=new Set;return D.forEach(t=>{t.categoria&&e.add(t.categoria.trim())}),Array.from(e).sort()},[D]),tP=e=>{tg(e),localStorage.setItem("vito-theme",e.name),tj(!1),window.dispatchEvent(new Event("storage"))},tM=async e=>{e&&e.preventDefault();let{data:s}=await ew.from("configuracion_dia").select("*").single();if(!s){let{data:e}=await ew.from("configuracion_dia").insert([{password_admin:"admin"}]).select().single();s=e}if(s&&s.password_admin===a){t(!0),en(s);let e=Date.now()+q;localStorage.setItem("vito-admin-session",JSON.stringify({expiry:e})),tR()}else alert("Incorrecto")},tE=async()=>{let{data:e}=await ew.from("access_logs").select("*").order("created_at",{ascending:!1}).limit(100);e&&Q(e)},tA=async(e,t)=>{if("serviceWorker"in navigator&&navigator.serviceWorker.ready)try{(await navigator.serviceWorker.ready).showNotification(e,{body:t,icon:"/icon.png"});return}catch(e){}"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/icon.png"})},tZ=(e,t,a)=>{Y(s=>({...s,[e]:{...s[e],[t]:a}}))},tq=(e,t)=>{tZ(e,"local_recipe",t)},tI=async(e,t=null)=>{let a=e.target.files?.[0];if(a){eL(!0);try{let e=await eN(a),s=`${Date.now()}.jpg`,{error:i}=await ew.storage.from("pizzas").upload(s,new File([e],a.name,{type:"image/jpeg"}));if(i)throw i;let{data:r}=ew.storage.from("pizzas").getPublicUrl(s);t?tZ(t,"imagen_url",r.publicUrl):eS(r.publicUrl)}catch(e){alert("Error: "+e.message)}finally{eL(!1)}}},tO=async()=>{let e=new Date;6>e.getHours()&&e.setDate(e.getDate()-1),e.setHours(6,0,0,0);let t=e.toISOString(),[{data:a},{data:s},{data:i},{data:r},{data:n}]=await Promise.all([ew.from("recetas").select("*"),ew.from("ingredientes").select("*"),ew.from("menu_pizzas").select("*"),ew.from("pedidos").select("*").neq("estado","entregado").gte("created_at",t),ew.from("configuracion_dia").select("*").single()]);if(!a||!s||!i||!r||!n)return;let l=n.porciones_por_pizza||8,o={};r.forEach(e=>{let t=i.find(t=>t.id===e.pizza_id),s=t?.porciones_individuales||l,r=e.cantidad_porciones/s;a.filter(t=>t.pizza_id===e.pizza_id).forEach(e=>{let t=e.cantidad_requerida*r;o[e.ingrediente_id]=(o[e.ingrediente_id]||0)+t})}),W(o);let d=i.map(async e=>{let t=a.filter(t=>t.pizza_id===e.id),i=999;if(t.length>0){let e=1/0;t.forEach(t=>{let a=s.find(e=>e.id===t.ingrediente_id);if(a){let s=a.cantidad_disponible||0,i=o[a.id]||0,r=t.cantidad_requerida>0?Math.floor(Math.max(0,s-i)/t.cantidad_requerida):999;r<e&&(e=r)}else e=0}),i=e===1/0?0:e}else i=0;e.stock!==i&&await ew.from("menu_pizzas").update({stock:i}).eq("id",e.id)});await Promise.all(d);let{data:c}=await ew.from("menu_pizzas").select("*").order("created_at",{ascending:!0});c&&V(c)},tR=async()=>{let e=new Date;6>e.getHours()&&e.setDate(e.getDate()-1),e.setHours(6,0,0,0);let t=e.toISOString(),[a,s,i,r,n,l,o,d]=await Promise.all([ew.from("menu_pizzas").select("*").order("created_at",{ascending:!0}),ew.from("ingredientes").select("*").order("nombre"),ew.from("recetas").select("*"),ew.from("pedidos").select("*").gte("created_at",t).order("created_at",{ascending:!0}),ew.from("lista_invitados").select("*").order("nombre"),ew.from("configuracion_dia").select("*").single(),ew.from("valoraciones").select("*").gte("created_at",t).order("created_at",{ascending:!1}),ew.from("access_logs").select("*").order("created_at",{ascending:!1}).limit(100)]);a.data&&V(a.data),s.data&&H(s.data),i.data&&F(i.data),r.data&&(L(r.data),ed(new Set(r.data.map(e=>e.invitado_nombre.toLowerCase())).size),ef.current>0&&r.data.length>ef.current&&tA("\xa1Nuevos Pedidos!",`Han entrado ${r.data.length-ef.current} pedidos nuevos.`),ef.current=r.data.length),n.data&&et(n.data),l.data&&en(l.data),o.data&&es(o.data),d.data&&Q(d.data),a.data&&s.data&&i.data&&r.data&&tO()},tL=async(e,t)=>{let a=R.filter(a=>a.invitado_nombre===e&&a.pizza_id===t),s=a.find(e=>"pendiente"===e.estado);if(s||(s=a.find(e=>"cocinando"===e.estado)),s||(s=a.find(e=>"entregado"===e.estado)),s){if(!confirm(`\xbfEliminar 1 unidad (${s.estado}) de ${e}?`))return;if(confirm("\xbfDevolver los ingredientes al Inventario?")){let e=D.find(e=>e.id===t),a=e?.porciones_individuales||ei.porciones_por_pizza||1,i=B.filter(e=>e.pizza_id===t);if(i.length>0){let e=s.cantidad_porciones/a,t=i.map(async t=>{let a=G.find(e=>e.id===t.ingrediente_id);if(a){let s=t.cantidad_requerida*e;await ew.from("ingredientes").update({cantidad_disponible:a.cantidad_disponible+s}).eq("id",a.id)}});await Promise.all(t),alert("Ingredientes devueltos.")}}await ew.from("pedidos").delete().eq("id",s.id),L(e=>e.filter(e=>e.id!==s.id)),tR(),await tO()}else alert("No se encontraron pedidos de este usuario para esta comida.")},tT=async e=>{if(confirm(`\xbfDuplicar "${e.nombre}"? 
Se copiar\xe1 la informaci\xf3n y la receta.`))try{let{data:t,error:a}=await ew.from("menu_pizzas").insert([{nombre:`${e.nombre} (Copia)`,descripcion:e.descripcion,imagen_url:e.imagen_url,tiempo_coccion:e.tiempo_coccion,categoria:e.categoria,porciones_individuales:e.porciones_individuales,tipo:e.tipo,stock:0,activa:!1}]).select().single();if(a||!t)throw Error("Error creando la pizza copia");let s=B.filter(t=>t.pizza_id===e.id);if(s.length>0){let e=s.map(e=>({pizza_id:t.id,ingrediente_id:e.ingrediente_id,cantidad_requerida:e.cantidad_requerida}));await ew.from("recetas").insert(e)}alert("\xa1Duplicada con \xe9xito! La copia est\xe1 inactiva."),tR()}catch(e){alert("Error al duplicar: "+e.message)}},tD=async(e,t,a)=>{"activa"===t?(await ew.from("menu_pizzas").update({activa:a}).eq("id",e),V(t=>t.map(t=>t.id===e?{...t,activa:a}:t))):tZ(e,t,a)},tV=async()=>{if(!ej)return;let{data:e}=await ew.from("menu_pizzas").insert([{nombre:ej,descripcion:e_,stock:0,imagen_url:e$,tiempo_coccion:eP,categoria:eE,activa:!0,porciones_individuales:eZ,tipo:eI}]).select().single();if(e&&eT.length>0){let t=eT.map(t=>({pizza_id:e.id,ingrediente_id:t.ingrediente_id,cantidad_requerida:t.cantidad}));await ew.from("recetas").insert(t)}ev(""),eC(""),eS(""),eD([]),await tO()},tG=async e=>{if(!confirm("\xbfEst\xe1s seguro?"))return;await ew.from("recetas").delete().eq("pizza_id",e);let{error:t}=await ew.from("menu_pizzas").delete().eq("id",e);t?confirm("â›” Tiene historial. \xbfBorrar TODO?")&&(await ew.from("pedidos").delete().eq("pizza_id",e),await ew.from("valoraciones").delete().eq("pizza_id",e),await ew.from("menu_pizzas").delete().eq("id",e),tR()):tR()},tH=async()=>{tc&&(await ew.from("configuracion_dia").update({password_admin:tc}).eq("id",ei.id),alert("OK"),tx(""))},tB=async e=>{let t=new Set(t$);t.has(e)?t.delete(e):t.add(e);let a=Array.from(t);en({...ei,categoria_activa:JSON.stringify(a)}),await ew.from("configuracion_dia").update({categoria_activa:JSON.stringify(a)}).eq("id",ei.id)},tF=async()=>{if(!to)return;let{error:e}=await ew.from("lista_invitados").insert([{nombre:to}]);e?alert("Error"):(td(""),tR())},tU=async e=>{let t=e.id;if(!t){let{data:a}=await ew.from("lista_invitados").insert([{nombre:e.nombre}]).select().single();if(!a)return;t=a.id}await ew.from("lista_invitados").update({bloqueado:!e.bloqueado}).eq("id",t),tR()},tK=async(e,t)=>{let a=tu[e];if(void 0===a)return;let s=t?.id;if(s)await ew.from("lista_invitados").update({motivo_bloqueo:a}).eq("id",s);else{let{data:t,error:s}=await ew.from("lista_invitados").insert([{nombre:e,motivo_bloqueo:a,bloqueado:!0}]).select().single();if(s||!t){alert("Error");return}}alert("OK"),tR()},tW=async()=>{let e=prompt('Escribe "BORRAR TODO"');if(e?.toUpperCase()!=="BORRAR TODO")return;let{error:t}=await ew.from("pedidos").delete().neq("id","00000000-0000-0000-0000-000000000000");t||(await ew.from("menu_pizzas").update({cocinando:!1,cocinando_inicio:null}).neq("id","00000000-0000-0000-0000-000000000000"),alert("OK"),tR())},tJ=async()=>{if(!e2)return;let e=""===e3?0:Number(e3),t=G.find(e=>e.nombre.toLowerCase()===e2.toLowerCase());t?await ew.from("ingredientes").update({cantidad_disponible:t.cantidad_disponible+e}).eq("id",t.id):await ew.from("ingredientes").insert([{nombre:e2,cantidad_disponible:e,unidad:e6,categoria:e7}]),e5(""),e4(""),await tO(),tR()},tQ=async e=>{let t=Number(ta.cantidad);await ew.from("ingredientes").update({nombre:ta.nombre,cantidad_disponible:t,unidad:ta.unidad,categoria:ta.categoria}).eq("id",e),tt(null),await tO(),tR()},tX=async e=>{confirm("\xbfBorrar?")&&await ew.from("ingredientes").delete().eq("id",e),await tO(),tR()},tY=async(e,t,a)=>{await ew.from("ingredientes").update({cantidad_disponible:t+a}).eq("id",e),await tO(),tR()},t0=async e=>{let t=X[e];if(!t)return;let{local_recipe:a,...s}=t;if(Object.keys(s).length>0&&await ew.from("menu_pizzas").update(s).eq("id",e),a&&(await ew.from("recetas").delete().eq("pizza_id",e),a.length>0)){let t=a.map(t=>({pizza_id:e,ingrediente_id:t.ingrediente_id,cantidad_requerida:t.cantidad_requerida}));await ew.from("recetas").insert(t)}await tR(),await tO(),Y(t=>{let a={...t};return delete a[e],a})},t1=async e=>{let t=e.trim(),{data:a}=await ew.from("lista_invitados").select("id").ilike("nombre",t).maybeSingle();a||await ew.from("lista_invitados").insert([{nombre:t,origen:"web"}])},t2=async(e,t)=>{if(!confirm(`\xbfBorrar pendientes?`))return;await t1(e);let a=R.filter(a=>a.invitado_nombre.toLowerCase()===e.toLowerCase()&&a.pizza_id===t&&"pendiente"===a.estado).map(e=>e.id);a.length&&await ew.from("pedidos").delete().in("id",a),tR()},t5=async e=>{if(!confirm(`\xbfBorrar pedidos de ${e}?`))return;await t1(e);let t=R.filter(t=>t.invitado_nombre.toLowerCase()===e.toLowerCase()).map(e=>e.id);t.length&&await ew.from("pedidos").delete().in("id",t),tR()},t3=async(e,t)=>{confirm(`\xbfELIMINAR a ${e}?`)&&(await ew.from("pedidos").delete().eq("invitado_nombre",e),t?.id?await ew.from("lista_invitados").delete().eq("id",t.id):await ew.from("lista_invitados").delete().ilike("nombre",e),tR())},t4=async()=>{if(!eJ||0===e0.length){alert("Selecciona ingrediente y al menos una pizza.");return}if("SET"===eK&&0>=Number(eX)){alert("Ingresa una cantidad v\xe1lida.");return}if(confirm(`\xbf${"REMOVE"===eK?"ELIMINAR ingrediente de":"Aplicar cambios a"} ${e0.length} items?`))try{if("REMOVE"===eK){for(let e of e0)await ew.from("recetas").delete().eq("pizza_id",e).eq("ingrediente_id",eJ);alert("\xa1Ingrediente eliminado de la selecci\xf3n!")}else{for(let e of e0){let{data:t}=await ew.from("recetas").select("*").eq("pizza_id",e).eq("ingrediente_id",eJ).single();t?await ew.from("recetas").update({cantidad_requerida:Number(eX)}).eq("id",t.id):await ew.from("recetas").insert([{pizza_id:e,ingrediente_id:eJ,cantidad_requerida:Number(eX)}])}alert("\xa1Aplicado correctamente!")}eU(!1),e1([]),eY(""),eQ(""),await tR(),await tO()}catch(e){alert("Error aplicando cambios masivos: "+e.message)}},t6=e=>{e1(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},t8=async(e,t)=>{await ew.from("access_logs").update({invitado_nombre:t,is_manual_edit:!0}).eq("id",e),tE()},t7=async()=>{if("BORRAR"===prompt("BORRAR")){let{data:e}=await ew.from("valoraciones").select("id"),t=e?.map(e=>e.id)||[];t.length&&await ew.from("valoraciones").delete().in("id",t),tR()}},t9=async e=>{confirm("\xbfBorrar todas?")&&(await ew.from("valoraciones").delete().eq("pizza_id",e),tR())},ae=async(e,t="todas")=>{let a=e.pedidosPendientes.filter(e=>"pendiente"===e.estado);if(0===a.length)return;let s=e.porciones_individuales||ei.porciones_por_pizza||4,i=a.reduce((e,t)=>e+t.cantidad_porciones,0);if("una"===t&&i<s){alert("Faltan porciones");return}let r=0;if("una"===t)r=1;else if(0===(r=Math.floor(i/s))){alert("No completas unidad.");return}let n=r*s,l=[],o=[];for(let e of[...a].sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime())){if(n<=0)break;if(e.cantidad_porciones<=n)l.push(e.id),n-=e.cantidad_porciones;else{let t=n,a=e.cantidad_porciones-t;o.push(ew.from("pedidos").update({cantidad_porciones:a}).eq("id",e.id));let s={...e};delete s.id,delete s.created_at,o.push(ew.from("pedidos").insert([{...s,cantidad_porciones:t,estado:"cocinando"}])),n=0}}l.length>0&&o.push(ew.from("pedidos").update({estado:"cocinando"}).in("id",l));let d=B.filter(t=>t.pizza_id===e.id);if(d.length>0)for(let e of d){let t=G.find(t=>t.id===e.ingrediente_id);if(t){let a=e.cantidad_requerida*r,s=t.cantidad_disponible-a;o.push(ew.from("ingredientes").update({cantidad_disponible:s}).eq("id",t.id))}}e.cocinando||o.push(ew.from("menu_pizzas").update({cocinando:!0,cocinando_inicio:new Date().toISOString()}).eq("id",e.id)),L(e=>e.map(e=>l.includes(e.id)?{...e,estado:"cocinando"}:e)),await Promise.all(o),tR()},at=async(e,t="todas",a=!1)=>{let s=a?e.pedidosPendientes:e.pedidosPendientes.filter(e=>"cocinando"===e.estado);if(0===s.length)return;let i=[...s].sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()),r=e.porciones_individuales||ei.porciones_por_pizza||4,n=0;n="una"===t?r:i.reduce((e,t)=>e+t.cantidad_porciones,0);let l=[];for(let e of i){if(n<=0)break;l.push(e),n-=e.cantidad_porciones}if(l.length>0){if(!confirm("\xbfEntregar?"))return;let t=l.map(e=>e.id);L(e=>e.map(e=>t.includes(e.id)?{...e,estado:"entregado"}:e)),await ew.from("pedidos").update({estado:"entregado"}).in("id",t),0!==e.pedidosPendientes.filter(e=>"cocinando"===e.estado).filter(e=>!t.includes(e.id)).length||a||(await ew.from("menu_pizzas").update({cocinando:!1,cocinando_inicio:null}).eq("id",e.id),V(t=>t.map(t=>t.id===e.id?{...t,cocinando:!1}:t))),tR()}},aa=(0,i.useMemo)(()=>{let e=D.filter(e=>e.activa);return t$.length>0&&!t$.includes("Todas")&&(e=e.filter(e=>t$.includes(e.categoria||"General")||e.cocinando||R.some(t=>t.pizza_id===e.id))),e.map(e=>{let t=R.filter(t=>t.pizza_id===e.id&&"entregado"!==t.estado),a=R.filter(t=>t.pizza_id===e.id&&"entregado"===t.estado),s=t.filter(e=>"pendiente"===e.estado).reduce((e,t)=>e+t.cantidad_porciones,0),i=t.filter(e=>"cocinando"===e.estado).reduce((e,t)=>e+t.cantidad_porciones,0),r=a.reduce((e,t)=>e+t.cantidad_porciones,0),n=e.porciones_individuales||ei.porciones_por_pizza;return{...e,totalPendientes:s+i,enEspera:s,enHorno:i,entregadas:r,completas:Math.floor(i/n),faltan:n-i%n,target:n,percent:i%n/n*100,pedidosPendientes:t,stockRestante:e.stock}}).sort((e,t)=>e.cocinando&&!t.cocinando?-1:!e.cocinando&&t.cocinando?1:"nombre"===tv?e.nombre.localeCompare(t.nombre):t.totalPendientes-e.totalPendientes)},[D,R,ei,tv,t$]),as=(0,i.useMemo)(()=>{let e=0,t=0,a=0,s=new Set;return R.forEach(i=>{"pendiente"===i.estado?(s.add(i.invitado_nombre.toLowerCase()),e+=i.cantidad_porciones):"cocinando"===i.estado?(s.add(i.invitado_nombre.toLowerCase()),t+=i.cantidad_porciones):"entregado"===i.estado&&(a+=i.cantidad_porciones)}),{waiting:e,cooking:t,delivered:a,hungryPeople:s.size}},[R,D]),ai=Array.from(new Set(R.map(e=>e.invitado_nombre.toLowerCase()))).map(e=>{let t=R.filter(t=>t.invitado_nombre.toLowerCase()===e),a=t[0]?.invitado_nombre||e,s=D.map(e=>{let a=t.filter(t=>t.pizza_id===e.id);if(0===a.length)return null;let s=a.filter(e=>"entregado"===e.estado).reduce((e,t)=>e+t.cantidad_porciones,0),i=a.filter(e=>"pendiente"===e.estado),r=i.reduce((e,t)=>e+t.cantidad_porciones,0),n=i.length>0?i.sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime())[0].created_at:null,l=a.filter(e=>"cocinando"===e.estado).reduce((e,t)=>e+t.cantidad_porciones,0);return{id:e.id,nombre:e.nombre,entregada:s,enHorno:l,enEspera:r,oldestPending:n}}).filter(Boolean),i=s.reduce((e,t)=>e+(t?.enHorno||0),0),r=s.reduce((e,t)=>e+(t?.enEspera||0),0);return{nombre:a,detalle:s,totalPendienteGeneral:i+r,totalEnHorno:i,totalEnEspera:r}}).sort((e,t)=>t.totalPendienteGeneral-e.totalPendienteGeneral),ar=(0,i.useMemo)(()=>D.map(e=>{let t=ea.filter(t=>t.pizza_id===e.id),a=t.length>0?t.reduce((e,t)=>e+t.rating,0)/t.length:0,s=R.filter(t=>t.pizza_id===e.id).reduce((e,t)=>e+t.cantidad_porciones,0);return{...e,avg:parseFloat(a.toFixed(1)),count:t.length,totalOrders:s}}).sort((e,t)=>t.avg-e.avg),[D,ea,R]),an=(0,i.useMemo)(()=>{let e={};R.forEach(t=>{let a=t.invitado_nombre.toLowerCase();e[a]=(e[a]||0)+t.cantidad_porciones});let t=new Map;return ee.forEach(a=>{let s=a.nombre.toLowerCase(),i="web"===a.origen;t.set(s,{...a,totalOrders:e[s]||0,source:i?"ped":"db",origen:a.origen||"admin"})}),Object.keys(e).forEach(a=>{if(!t.has(a)){let s=R.find(e=>e.invitado_nombre.toLowerCase()===a)?.invitado_nombre||a;t.set(a,{id:null,nombre:s,bloqueado:!1,source:"ped",totalOrders:e[a],origen:"web"})}}),Array.from(t.values()).sort((e,t)=>e.nombre.localeCompare(t.nombre))},[ee,R]);return e?(0,s.jsxs)("div",{className:`min-h-screen font-sans pb-28 w-full ${t_.bg}`,children:[s.jsx("div",{className:`w-full h-40 rounded-b-[40px] bg-gradient-to-br ${tb.gradient} shadow-xl absolute top-0 left-0 z-0`}),(0,s.jsxs)("div",{className:`fixed top-4 left-4 right-4 z-50 rounded-2xl p-2 flex justify-between items-center shadow-lg backdrop-blur-md border ${t_.bar}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 pl-2 cursor-pointer active:scale-95 transition-transform",onClick:()=>eg(!0),children:[s.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-10 w-auto"}),(0,s.jsxs)("div",{className:"leading-tight",children:[s.jsx("h1",{className:"font-bold text-sm",children:"Modo Pizzaiolo"}),(0,s.jsxs)("p",{className:"text-[10px] opacity-70 flex items-center gap-1",children:[s.jsx(o.Z,{size:10,className:"text-green-500 animate-pulse"})," ",ec," / ",ei.total_invitados]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 relative pr-1",children:["menu"===A&&s.jsx("button",{onClick:()=>eU(!0),className:`p-2 rounded-full border ${t_.buttonSec} text-blue-500 border-blue-500/30 bg-blue-500/10`,title:"Edici\xf3n Masiva",children:s.jsx(c,{size:16})}),s.jsx("button",{onClick:()=>tj(!tf),className:`p-2 rounded-full border ${t_.buttonSec}`,children:s.jsx(x.Z,{size:16})}),tf&&s.jsx("div",{className:"absolute top-12 right-0 bg-black/90 backdrop-blur p-2 rounded-xl flex gap-2 animate-in fade-in z-50 border border-white/10 shadow-xl",children:ez.map(e=>s.jsx("button",{onClick:()=>tP(e),className:`w-6 h-6 rounded-full ${e.color} border-2 border-white ring-2 ring-transparent hover:scale-110 transition-transform`},e.name))}),s.jsx("button",{onClick:()=>{tz(!tk),localStorage.setItem("vito-dark-mode",String(!tk))},className:`p-2 rounded-full border ${t_.buttonSec}`,children:tk?s.jsx(p.Z,{size:16}):s.jsx(m.Z,{size:16})}),"cocina"===A&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>ty(e=>"estado"===e?"nombre":"estado"),className:`p-2 rounded-full border flex items-center gap-1 ${t_.buttonSec}`,children:"estado"===tv?s.jsx(u.Z,{size:16}):s.jsx(h.Z,{size:16})}),s.jsx("button",{onClick:()=>tN(!tw),className:`p-2 rounded-full border flex items-center gap-1 ${t_.buttonSec}`,children:tw?s.jsx(b.Z,{size:16}):s.jsx(g.Z,{size:16})})]}),s.jsx("button",{onClick:()=>{localStorage.removeItem("vito-admin-session"),window.location.href="/"},className:`p-2 rounded-full border ${t_.buttonSec} ml-1 bg-red-500/10 border-red-500/30 text-red-500`,children:s.jsx(f,{size:16})})]})]}),eb&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",onClick:()=>eg(!1),children:(0,s.jsxs)("div",{className:`w-full max-w-sm rounded-3xl p-6 shadow-2xl border ${t_.card} relative`,onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:()=>eg(!1),className:"absolute top-4 right-4 text-gray-500",children:s.jsx(j.Z,{size:20})}),(0,s.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(o.Z,{size:20,className:"text-green-500"})," En L\xednea (",ec,")"]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:em.length>0?em.map((e,t)=>(0,s.jsxs)("div",{className:`p-3 rounded-xl border ${t_.innerCard} flex items-center gap-2`,children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"font-medium text-sm",children:e})]},t)):s.jsx("p",{className:"text-sm opacity-50 text-center py-4",children:"Nadie por aqu\xed..."})})]})}),eF&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",onClick:()=>eU(!1),children:(0,s.jsxs)("div",{className:`w-full max-w-lg rounded-3xl p-6 shadow-2xl border ${t_.card} flex flex-col max-h-[90vh]`,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(c,{size:24,className:"text-blue-500"})," Edici\xf3n Masiva"]}),s.jsx("button",{onClick:()=>eU(!1),children:s.jsx(j.Z,{size:24,className:"opacity-50 hover:opacity-100"})})]}),(0,s.jsxs)("div",{className:"flex gap-2 mb-4 bg-neutral-800/50 p-1 rounded-xl border border-white/5",children:[(0,s.jsxs)("button",{onClick:()=>eW("SET"),className:`flex-1 py-2 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all ${"SET"===eK?"bg-blue-600 text-white shadow":"opacity-60 hover:opacity-100"}`,children:[s.jsx(v.Z,{size:16})," Fijar / A\xf1adir"]}),(0,s.jsxs)("button",{onClick:()=>eW("REMOVE"),className:`flex-1 py-2 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all ${"REMOVE"===eK?"bg-red-600 text-white shadow":"opacity-60 hover:opacity-100"}`,children:[s.jsx(y,{size:16})," Eliminar"]})]}),(0,s.jsxs)("div",{className:"space-y-4 mb-4 overflow-y-auto flex-1 pr-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:`col-span-2 ${"SET"===eK?"md:col-span-1":""}`,children:[(0,s.jsxs)("label",{className:"text-xs font-bold uppercase opacity-60 mb-1 block",children:["Ingrediente a ","SET"===eK?"Aplicar":"Borrar"]}),(0,s.jsxs)("select",{value:eJ,onChange:e=>eQ(e.target.value),className:`w-full p-3 rounded-xl border outline-none ${t_.input}`,children:[s.jsx("option",{value:"",children:"Seleccionar..."}),G.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.nombre," (",e.cantidad_disponible," ",e.unidad,")"]},e.id))]})]}),"SET"===eK&&(0,s.jsxs)("div",{className:"col-span-2 md:col-span-1 animate-in fade-in",children:[s.jsx("label",{className:"text-xs font-bold uppercase opacity-60 mb-1 block",children:"Cantidad Nueva"}),s.jsx("input",{type:"number",value:eX,onChange:e=>eY(e.target.value),placeholder:"0",className:`w-full p-3 rounded-xl border outline-none ${t_.input}`})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-end mb-2 border-b border-gray-700 pb-2",children:[(0,s.jsxs)("label",{className:"text-xs font-bold uppercase opacity-60",children:["Seleccionar Pizzas (",e0.length,")"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>e1(D.map(e=>e.id)),className:"text-[10px] underline text-blue-400",children:"Todas"}),s.jsx("button",{onClick:()=>e1([]),className:"text-[10px] underline text-red-400",children:"Ninguna"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:D.map(e=>(0,s.jsxs)("div",{onClick:()=>t6(e.id),className:`p-3 rounded-xl border cursor-pointer flex items-center gap-3 transition-all ${e0.includes(e.id)?"bg-blue-500/20 border-blue-500":t_.innerCard}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${e0.includes(e.id)?"bg-blue-500 border-blue-500":"border-gray-500"}`,children:e0.includes(e.id)&&s.jsx(w,{size:14,className:"text-white"})}),s.jsx("span",{className:"text-sm font-medium truncate",children:e.nombre})]},e.id))})]})]}),s.jsx("button",{onClick:t4,className:`w-full py-3 font-bold rounded-xl shadow-lg transition-all active:scale-95 text-white ${"SET"===eK?"bg-blue-600 hover:bg-blue-500":"bg-red-600 hover:bg-red-500"}`,children:"SET"===eK?"APLICAR CAMBIOS":"ELIMINAR SELECCI\xd3N"})]})}),(0,s.jsxs)("div",{className:"relative z-10 pt-24 px-4 pb-36",children:["cocina"===A&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[(0,s.jsxs)("div",{className:`p-3 rounded-2xl border flex flex-col items-center justify-center ${t_.metric}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 mb-1 opacity-60",children:[s.jsx(N.Z,{size:16}),s.jsx("span",{className:"text-[10px] font-bold uppercase",children:"En Horno"})]}),s.jsx("p",{className:"text-2xl font-black",children:as.cooking})]}),(0,s.jsxs)("div",{className:`p-3 rounded-2xl border flex flex-col items-center justify-center ${t_.metric}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 mb-1 opacity-60",children:[s.jsx(k,{size:16}),s.jsx("span",{className:"text-[10px] font-bold uppercase",children:"En Cola"})]}),s.jsx("p",{className:"text-2xl font-black",children:as.waiting})]}),(0,s.jsxs)("div",{className:`p-3 rounded-2xl border flex flex-col items-center justify-center ${t_.metric}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 mb-1 opacity-60",children:[s.jsx(w,{size:16}),s.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Entregado"})]}),s.jsx("p",{className:"text-2xl font-black",children:as.delivered})]}),(0,s.jsxs)("div",{className:`p-3 rounded-2xl border flex flex-col items-center justify-center ${t_.metric}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 mb-1 opacity-60",children:[s.jsx(o.Z,{size:16}),s.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Esperando"})]}),s.jsx("p",{className:"text-2xl font-black",children:as.hungryPeople})]})]}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto space-y-4 w-full",children:["cocina"===A&&s.jsx(O,{metricas:aa,base:t_,isCompact:tw,isDarkMode:tk,currentTheme:tb,toggleCocinando:ae,entregar:at}),"pedidos"===A&&s.jsx(T,{pedidosAgrupados:ai,base:t_,isDarkMode:tk,eliminarPedidosGusto:t2,resetAllOrders:tW,eliminarUnidad:tL}),"ingredientes"===A&&s.jsx(U,{base:t_,currentTheme:tb,ingredients:G,newIngName:e2,setNewIngName:e5,newIngQty:e3,setNewIngQty:e4,newIngUnit:e6,setNewIngUnit:e8,newIngCat:e7,setNewIngCat:e9,addIng:tJ,editingIngId:te,editIngForm:ta,setEditIngForm:ts,saveEditIng:tQ,cancelEditIng:()=>{tt(null)},delIng:tX,startEditIng:e=>{tt(e.id),ts({nombre:e.nombre,cantidad:e.cantidad_disponible,unidad:e.unidad||"g",categoria:e.categoria||"General"})},reservedState:K,quickUpdateStock:tY}),"menu"===A&&s.jsx(er,{base:t_,config:ei,setConfig:en,activeCategories:t$,uniqueCategories:tS,toggleCategory:tB,currentTheme:tb,addP:tV,uploading:eR,newPizzaName:ej,setNewPizzaName:ev,isDarkMode:tk,handleImageUpload:tI,newPizzaImg:e$,newPizzaDesc:e_,setNewPizzaDesc:eC,newPizzaIngredients:eT,removeFromNewPizzaRecipe:e=>{eD(t=>t.filter((t,a)=>a!==e))},newPizzaSelectedIng:eV,setNewPizzaSelectedIng:eG,ingredients:G,newPizzaRecipeQty:eH,setNewPizzaRecipeQty:eB,addToNewPizzaRecipe:()=>{if(!eV)return;let[e,t]=eV.split("|"),a=Number(eH);a<=0||(eD(s=>[...s,{ingrediente_id:e,nombre:t,cantidad:a}]),eG(""),eB(1))},newPizzaCat:eE,setNewPizzaCat:eA,newPizzaPortions:eZ,setNewPizzaPortions:eq,stockEstimadoNueva:tC,newPizzaTime:eP,setNewPizzaTime:eM,pizzas:D,edits:X,recetas:B,updateP:tD,savePizzaChanges:t0,cancelChanges:e=>{Y(t=>{let a={...t};return delete a[e],a})},delP:tG,duplicateP:tT,tempRecipeIng:ti,setTempRecipeIng:tr,tempRecipeQty:tn,setTempRecipeQty:tl,addToExistingPizza:(e,t,a,s,i)=>{let r=Number(s);r<=0||tq(e,[...i,{ingrediente_id:t,cantidad_requerida:r,nombre:a}])},removeFromExistingPizza:(e,t,a)=>{tq(e,a.filter((e,a)=>a!==t))},reservedState:K,calcularStockDinamico:ek,updateLocalRecipe:tq,newPizzaType:eI,setNewPizzaType:eO}),"ranking"===A&&s.jsx(el,{base:t_,delAllVal:t7,ranking:ar,delValPizza:t9}),"usuarios"===A&&s.jsx(ex,{base:t_,newGuestName:to,setNewGuestName:td,addU:tF,allUsersList:an,resetU:t5,toggleB:tU,eliminarUsuario:t3,tempMotivos:tu,setTempMotivos:th,guardarMotivo:tK,currentTheme:tb,resetAllOrders:tW}),"config"===A&&s.jsx(eu,{base:t_,config:ei,setConfig:en,isDarkMode:tk,resetAllOrders:tW,newPass:tc,setNewPass:tx,confirmPass:tp,setConfirmPass:tm,changePass:tH,currentTheme:tb,sessionDuration:q,setSessionDuration:I}),"logs"===A&&s.jsx(ey,{base:t_,logs:J,isDarkMode:tk,currentTheme:tb,updateLogName:t8,onRefresh:tE})]})]}),(0,s.jsxs)("div",{className:`fixed bottom-4 left-4 right-4 z-50 rounded-full p-3 flex justify-around items-center ${t_.bar}`,children:[(0,s.jsxs)("button",{onClick:()=>Z("cocina"),className:`flex flex-col items-center gap-1 ${"cocina"===A?tb.text:t_.subtext}`,children:[s.jsx(z,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Cocina"})]}),(0,s.jsxs)("button",{onClick:()=>Z("pedidos"),className:`flex flex-col items-center gap-1 ${"pedidos"===A?tb.text:t_.subtext}`,children:[s.jsx(_,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Pedidos"})]}),(0,s.jsxs)("button",{onClick:()=>Z("menu"),className:`flex flex-col items-center gap-1 ${"menu"===A?tb.text:t_.subtext}`,children:[s.jsx(C.Z,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Men\xfa"})]}),(0,s.jsxs)("button",{onClick:()=>Z("ranking"),className:`flex flex-col items-center gap-1 ${"ranking"===A?tb.text:t_.subtext}`,children:[s.jsx($,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Rank"})]}),(0,s.jsxs)("button",{onClick:()=>Z("usuarios"),className:`flex flex-col items-center gap-1 ${"usuarios"===A?tb.text:t_.subtext}`,children:[s.jsx(o.Z,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Usuarios"})]}),(0,s.jsxs)("button",{onClick:()=>Z("ingredientes"),className:`flex flex-col items-center gap-1 ${"ingredientes"===A?tb.text:t_.subtext}`,children:[s.jsx(S,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Invent."})]}),(0,s.jsxs)("button",{onClick:()=>Z("logs"),className:`flex flex-col items-center gap-1 ${"logs"===A?tb.text:t_.subtext}`,children:[s.jsx(P,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Logs"})]}),(0,s.jsxs)("button",{onClick:()=>Z("config"),className:`flex flex-col items-center gap-1 ${"config"===A?tb.text:t_.subtext}`,children:[s.jsx(M,{size:20}),s.jsx("span",{className:"text-[8px] uppercase font-bold",children:"Ajustes"})]})]})]}):s.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 pb-40 ${t_.bg}`,children:(0,s.jsxs)("div",{className:`w-full max-w-md p-8 rounded-3xl border shadow-xl ${t_.card}`,children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-48 w-auto object-contain drop-shadow-xl"})}),(0,s.jsxs)("form",{onSubmit:tM,className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:d?"text":"password",value:a,onChange:e=>r(e.target.value),className:`w-full p-4 rounded-xl border outline-none ${t_.input}`,placeholder:"Contrase\xf1a...",autoFocus:!0}),s.jsx("button",{type:"button",onClick:()=>E(!d),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:d?s.jsx(n.Z,{size:24}):s.jsx(l.Z,{size:24})})]}),s.jsx("button",{type:"submit",className:`w-full ${tb.color} text-white font-bold py-4 rounded-xl hover:opacity-90 transition`,children:"ENTRAR"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10",children:(0,s.jsxs)("button",{onClick:()=>window.location.href="/",className:`w-full py-3 rounded-xl border flex items-center justify-center gap-2 font-bold ${t_.buttonSec}`,children:[s.jsx(o.Z,{size:20})," MODO INVITADOS"]})})]})})}},8748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`D:\VARIOS\DESCARGAS\ILFORNODIVITO APP\ilfornodivito.app v1\app\admin\page.tsx#default`)},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>l,viewport:()=>n});var s=a(9510),i=a(7366),r=a.n(i);a(7272);let n={themeColor:"#0a0a0a",width:"device-width",initialScale:1,maximumScale:1,userScalable:!1},l={title:"Il Forno Di Vito",description:"App de pedidos",manifest:"/manifest.json",icons:{icon:"/icon.png",apple:"/icon.png"},appleWebApp:{capable:!0,statusBarStyle:"black-translucent",title:"Vito Pizza"}};function o({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{className:`${r().className} bg-neutral-950`,children:e})})}},7481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(6621);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,82,775],()=>a(8180));module.exports=s})();